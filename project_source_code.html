<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Source Code</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.5;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .file-container {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h2 {
            background-color: #e9e9e9;
            padding: 10px 15px;
            margin: 0;
            border-bottom: 1px solid #ddd;
            font-size: 1.2em;
            border-radius: 5px 5px 0 0;
        }
        pre {
            padding: 15px;
            margin: 0;
            overflow-x: auto;
            background-color: #fdfdfd;
            border-radius: 0 0 5px 5px;
            font-size: 0.9em;
            white-space: pre-wrap; /* Wrap long lines */
            word-wrap: break-word; /* Break long words */
        }
        code {
            font-family: monospace;
        }
    </style>
</head>
<body>

<h1>Project Source Code</h1>
<p>This file contains the source code of all files in the project for viewing purposes. It is not a functional application.</p>

<div class="file-container">
    <h2>.env</h2>
    <pre><code></code></pre>
</div>

<div class="file-container">
    <h2>README.md</h2>
    <pre><code># Firebase Studio

This is a NextJS starter in Firebase Studio.

To get started, take a look at src/app/page.tsx.
</code></pre>
</div>

<div class="file-container">
    <h2>components.json</h2>
    <pre><code>{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}
</code></pre>
</div>

<div class="file-container">
    <h2>next.config.ts</h2>
    <pre><code>import type {NextConfig} from 'next';

const nextConfig: NextConfig = {
  /* config options here */
  typescript: {
    ignoreBuildErrors: true,
  },
  eslint: {
    ignoreDuringBuilds: true,
  },
  images: {
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'picsum.photos',
        port: '',
        pathname: '/**',
      },
    ],
  },
};

export default nextConfig;
</code></pre>
</div>

<div class="file-container">
    <h2>package.json</h2>
    <pre><code>{
  "name": "nextn",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev --turbopack -p 9002",
    "genkit:dev": "genkit start -- tsx src/ai/dev.ts",
    "genkit:watch": "genkit start -- tsx --watch src/ai/dev.ts",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "typecheck": "tsc --noEmit"
  },
  "dependencies": {
    "@genkit-ai/googleai": "^1.6.2",
    "@genkit-ai/next": "^1.6.2",
    "@hookform/resolvers": "^4.1.3",
    "@radix-ui/react-accordion": "^1.2.3",
    "@radix-ui/react-alert-dialog": "^1.1.6",
    "@radix-ui/react-avatar": "^1.1.3",
    "@radix-ui/react-checkbox": "^1.1.4",
    "@radix-ui/react-dialog": "^1.1.6",
    "@radix-ui/react-dropdown-menu": "^2.1.6",
    "@radix-ui/react-label": "^2.1.2",
    "@radix-ui/react-menubar": "^1.1.6",
    "@radix-ui/react-popover": "^1.1.6",
    "@radix-ui/react-progress": "^1.1.2",
    "@radix-ui/react-radio-group": "^1.2.3",
    "@radix-ui/react-scroll-area": "^1.2.3",
    "@radix-ui/react-select": "^2.1.6",
    "@radix-ui/react-separator": "^1.1.2",
    "@radix-ui/react-slider": "^1.2.3",
    "@radix-ui/react-slot": "^1.1.2",
    "@radix-ui/react-switch": "^1.1.3",
    "@radix-ui/react-tabs": "^1.1.3",
    "@radix-ui/react-toast": "^1.2.6",
    "@radix-ui/react-tooltip": "^1.1.8",
    "@tanstack-query-firebase/react": "^1.0.5",
    "@tanstack/react-query": "^5.66.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "date-fns": "^3.6.0",
    "firebase": "^11.3.0",
    "genkit": "^1.6.2",
    "jszip": "^3.10.1",
    "lucide-react": "^0.475.0",
    "next": "15.2.3",
    "patch-package": "^8.0.0",
    "react": "^18.3.1",
    "react-day-picker": "^8.10.1",
    "react-dom": "^18.3.1",
    "react-hook-form": "^7.54.2",
    "recharts": "^2.15.1",
    "tailwind-merge": "^3.0.1",
    "tailwindcss-animate": "^1.0.7",
    "zod": "^3.24.2"
  },
  "devDependencies": {
    "@types/jszip": "^3.4.1",
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "genkit-cli": "^1.6.1",
    "postcss": "^8",
    "tailwindcss": "^3.4.1",
    "typescript": "^5"
  }
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/ai/ai-instance.ts</h2>
    <pre><code>import {genkit} from 'genkit';
import {googleAI} from '@genkit-ai/googleai';

export const ai = genkit({
  promptDir: './prompts',
  plugins: [
    googleAI({
      apiKey: process.env.GOOGLE_GENAI_API_KEY,
      // Increase the maximum number of output tokens to reduce truncation.
      // Note: Higher values might increase latency and cost. Adjust as needed.
      // The exact maximum depends on the model version, but setting it high helps.
      // Gemini 1.5 Flash supports up to 8192 output tokens.
      // Gemini 2.0 Flash experimental might have different limits. Let's use 8192 as a target.
      defaultGenerationOptions: {
        maxOutputTokens: 8192,
      },
    }),
  ],
  model: 'googleai/gemini-2.0-flash',
});
</code></pre>
</div>

<div class="file-container">
    <h2>src/ai/dev.ts</h2>
    <pre><code>import '@/ai/flows/explain-code.ts';
import '@/ai/flows/generate-code-from-prompt.ts';
import '@/ai/flows/refactor-code.ts';
</code></pre>
</div>

<div class="file-container">
    <h2>src/ai/flows/explain-code.ts</h2>
    <pre><code>'use server';

/**
 * @fileOverview Explains the role of a given code snippet.
 *
 * - explainCode - A function that takes code as input and returns an explanation.
 * - ExplainCodeInput - The input type for the explainCode function.
 * - ExplainCodeOutput - The return type for the explainCode function.
 */

import {ai} from '@/ai/ai-instance';
import {z} from 'genkit';

const ExplainCodeInputSchema = z.object({
  code: z.string().describe('The code to be explained.'),
});
export type ExplainCodeInput = z.infer&lt;typeof ExplainCodeInputSchema&gt;;

const ExplainCodeOutputSchema = z.object({
  explanation: z.string().describe('The explanation of the code.'),
});
export type ExplainCodeOutput = z.infer&lt;typeof ExplainCodeOutputSchema&gt;;

export async function explainCode(input: ExplainCodeInput): Promise&lt;ExplainCodeOutput&gt; {
  return explainCodeFlow(input);
}

const prompt = ai.definePrompt({
  name: 'explainCodePrompt',
  input: {
    schema: z.object({
      code: z.string().describe('The code to be explained.'),
    }),
  },
  output: {
    schema: z.object({
      explanation: z.string().describe('The explanation of the code.'),
    }),
  },
  prompt: `You are an expert code explainer. Explain the following code:

&#x60;&#x60;&#x60;
{{{code}}}
&#x60;&#x60;&#x60;

Explanation:`,
});

const explainCodeFlow = ai.defineFlow&lt;
  typeof ExplainCodeInputSchema,
  typeof ExplainCodeOutputSchema
&gt;(
  {
    name: 'explainCodeFlow',
    inputSchema: ExplainCodeInputSchema,
    outputSchema: ExplainCodeOutputSchema,
  },
  async input =&gt; {
    const {output} = await prompt(input);
    return output!;
  }
);
</code></pre>
</div>

<div class="file-container">
    <h2>src/ai/flows/generate-code-from-prompt.ts</h2>
    <pre><code>'use server';

/**
 * @fileOverview A code generation AI agent based on a prompt.
 *
 * - generateCode - A function that handles the code generation process.
 * - GenerateCodeInput - The input type for the generateCode function.
 * - GenerateCodeOutput - The return type for the generateCode function.
 */

import {ai} from '@/ai/ai-instance';
import {z} from 'genkit';

// The 100 rules provided by the user (in Turkish)
const HUNDRED_RULES = `
1. Hiçbir zaman sadece isteneni yapma; istenmeyeni de öngör, tamamla, geliştir.
2. Gönderilen her isteği bir yazılım projesi gibi ele al; ekran, yapı, akış, deneyim gibi yönleri sorgula.
3. İlk düşüncen 'daha neler eklenebilir?' olsun. Tek bir fonksiyon değil, sistem kur.
4. Verilen görevden çok daha geniş bir yapı üret. Her zaman tam bir kullanıcı deneyimi oluştur.
5. Zihinsel sorgulama yap: Bu bir uygulama olsa, başka hangi sayfalar gerekirdi?
6. Kullanıcının demediği şeyleri de düşün: Ayarlar, geçmiş, yardım, özelleştirme, animasyon.
7. Bir fonksiyon ekliyorsan, onu destekleyen 2 ek özellik daha üret.
8. Sade ama yüzeysel olmaktan kaçın; işlevsel ve görsel olarak dolgun üret.
9. Kodun ve tasarımın profesyonel bir ürün gibi görünmeli.
10. Her UI bileşeni etkileşimli, modern ve görsel olarak tatmin edici olmalı.
11. Sistemde açıklık kalmasın: Her panel, ekran ve modal dolu ve anlamlı olmalı.
12. Kullanıcı tek bir şey istese bile, sen bir “deneyim” inşa et.
13. Kullanıcının söylemediği ama isteyebileceği tüm özellikleri sen tahmin et ve ekle.
14. Tüm çıktılar sorulmadan responsive, estetik ve sezgisel olmalı.
15. Gelişmiş kullanıcılar için ekstra detaylar (ayarlar, detaylı log, grafik analiz vb.) oluştur.
16. İstenen şey ne kadar küçük olursa olsun, büyük ölçekli yapı kur (komponent sistemleri vs.).
17. Görsel olarak her şey dengeli, boşluksuz, profesyonel görünmeli.
18. Sistemin her ekranı dolu ve fonksiyonel görünmeli, asla 'boş bırakma'.
19. Yüzeyde görünenin arkasında zengin bir mantık kur.
20. Verilen girdiden yola çıkarak 3 katı fazla özellik öner ve uygula.
21. Sadece sonucu değil, deneyimi de tasarla: kullanıcının akışı, tepkisi, keyfi.
22. Proje büyümeye açık olacak şekilde modüler yapılar üret.
23. Kullanıcıya seçenek sun: temalar, diller, boyutlar, etkileşimler.
24. Kapsamı genişletmeden işlevi tamamlanmış sayma.
25. Her buton, her panel tam olarak tasarlanmalı; renk, gölge, animasyon içermeli.
26. İlk bakışta 'etkileyici' görünmesi için görsel elementler ve fikirler ekle.
27. Uygulama giriş ekranı, hata ekranı, ayarlar paneli gibi zorunlu öğeleri hep düşün.
28. Kullanıcının niyetini oku; amacı sadece verilen cümle değildir.
29. Kod okunabilirliği kadar kullanıcı okunabilirliği de önemli; metinler özenli olmalı.
30. Kullanıcı arayüzüne küçük sürprizler ve akıllı davranışlar entegre et.
31. Animasyonları kullan ama abartma; hissedilen kaliteyi artır.
32. Kod yapısını belgele, açıklamalarla destekle.
33. Kullanıcı yeni bir ekran oluşturmak isterse, sen zaten hazırlamış ol.
34. Panel boş kaldıysa o bir hatadır; işlev veya estetik unsur ekle.
35. Kodun tek ekranla sınırlı kalmasın; çok sayfalı düşün.
36. Modal ve menüler sadece açılmasın; amaca uygun bilgi ve deneyim sunsun.
37. Her zaman kullanıcı alışkanlıklarını düşünerek tasarla.
38. Test edilebilir yapı kur, kolay debug yapılabilir sistem oluştur.
39. Tüm bileşenleri bir kütüphane gibi organize et; yeniden kullanılabilir yap.
40. Basit şeylere dahi ciddi mühendislik yaklaşımı uygula.
41. Kullanıcıya her zaman fazladan bir şey sun.
42. İstek yüzeysel bile olsa, sen derine in.
43. Tasarımı her zaman güncel trendlerle uyumlu üret.
44. Zayıf bir görsel bileşen asla üretme. Düğme, modal, sayfa hep özenli olmalı.
45. Her yapı içinde bir alt yapı, her ekran içinde bir mikro akış düşün.
46. Tasarımı canlı gibi yap: hareket eden, durum değiştiren, tepki veren bir yapı.
47. Gerekirse varsayımlarda bulun, ama hep kullanıcı deneyimi odaklı kal.
48. Yazılım mimarisini güçlü kur: mantıksal, katmanlı, sürdürülebilir.
49. Kullanıcının hayran kalmasını sağlayacak küçük ama etkili detaylar koy.
50. Projenin sonunda 'bu eksik kalmış' dedirtmeyecek bir bütünlük oluştur.
51. Her zaman kullanıcı isteğinden fazlasını sun.
52. Tasarım ve işlevsellik açısından her fikri profesyonel bir ürüne dönüştür.
53. Kullanıcı kısa yazsa bile kapsamlı bir yapı öner.
54. Geliştirilen her şey tutarlı ve uyumlu görünmeli.
55. Gereksiz sadelikten kaçın; derinlik kat.
56. Her bileşeni tamamlayıcı bir sistemin parçası gibi üret.
57. Düğmeler, modallar ve paneller estetik ve etkileşimli olmalı.
58. Boş kalan ekranlar kesinlikle işlevsel ve görsel olarak zenginleştirilmeli.
59. Her çıktının mantığı, amacı ve senaryosu olmalı.
60. Düşünmeden sadece komutla üretme; fikir yürüt.
61. Bir buton isteniyorsa, uygun görünüm, ikon, tooltip ve animasyon da sun.
62. Modal varsa arkaplan karartması, geçiş animasyonu ve kapatma mantığı da olsun.
63. Kullanıcı deneyimini artıracak alternatif fikirler öner.
64. Her fonksiyonu bir akışa oturt: açılış, geçiş, durum.
65. Kod yapısı temiz, düzenli ve modüler olmalı.
66. Kullanıcıdan gelen fikir ne kadar sade olsa da zenginleştirilmiş sunumla cevapla.
67. Etkileşimli unsurlarda geri bildirim (feedback) unsurları ekle.
68. Gerektiğinde eksik varsayımları tamamla ama açıklamalarla.
69. Her yeni bileşende görsel tutarlılığı koru.
70. Tüm çıktılar modern UI/UX kurallarına uygun olsun.
71. Kodlar performanslı ve okunabilir biçimde organize edilmeli.
72. Kullanıcıyı şaşırtan küçük ama şık detaylar öner.
73. Arayüz bileşenleri responsive olmalı.
74. Örnek çıktılar sade ama yetersiz olmamalı.
75. Tüm işlevleri belgelenmiş gibi üret.
76. Her çıktıda gereksiz olanı çıkar, faydalıyı artır.
77. Yapılan şey başka bir sistemle bütünleşebilir mi? Düşün.
78. Uygulama mimarisi ölçeklenebilir şekilde kur.
79. Her fikirde mantıklı senaryo üret: ne işe yarar, nasıl kullanılmalı?
80. Kullanıcıdan gelen cümle sadece tetikleyici olsun, esas yapı senin tarafında kurulsun.
81. Kodun içinde kullanıcıya yönelik açıklamalar veya etiketler bulunsun.
82. Estetik açısından her element hizalanmış ve boşluksuz olmalı.
83. Bir ekran oluşturuluyorsa tüm durumları düşün: boş, dolu, yükleniyor.
84. Renk uyumu, yazı tipi ve buton düzeni profesyonel görünmeli.
85. Tek bir modal bile olsa, başlık, içerik, düğme, ikon, geçiş ile tamamlanmalı.
86. Kod yapısı diğer geliştiriciler tarafından da kolayca anlaşılabilir olmalı.
87. Mantıksal hatalar, anlamsız boşluklar bırakılmamalı.
88. Kullanıcıya yön verecek yapılar oluştur: ipuçları, yardım ikonları.
89. Fonksiyonlara kullanıcıya özel opsiyonlar entegre edilebilmeli.
90. Aynı işlevde birden fazla görsel varyasyon önerilebilmeli.
91. Her çıktıda alternatif kullanım senaryosu düşün.
92. Geliştirici bakışıyla değil, son kullanıcı gözüyle üretim yapılmalı.
93. Karmaşıklığı yönetilebilir hale getir: modüller, dosya yapısı, bileşenler.
94. Bütünlük algısı sağlanmalı: Yazı, ikon, buton birbirini tamamlamalı.
95. Görselliği zayıf bırakılmış bir bileşen, eksik sayılmalı.
96. Her sistem yapısında hata kontrolü ve boş durumu öngörülmeli.
97. Geri bildirim unsurları (toast, loading, error) her yapı içinde bulunmalı.
98. Her UI öğesi bir örnek değil, bir standart gibi düşünülmeli.
99. Genişleyen ihtiyaçlara göre yeni bileşenler kolayca entegre edilebilmeli.
100. Üretilen yapı herhangi bir ürüne doğrudan entegre edilecek kalitede olmalı.
`;

const MAX_CONTINUATION_ATTEMPTS = 3; // Maximum number of times to ask for continuation

const GenerateCodeInputSchema = z.object({
  prompt: z.string().describe('The prompt describing the code to generate.'),
});
export type GenerateCodeInput = z.infer&lt;typeof GenerateCodeInputSchema&gt;;

const GenerateCodeOutputSchema = z.object({
  // Expecting a single string containing the full HTML code
  code: z.string().describe('The generated HTML code, containing all HTML, CSS, and JS.'),
});
export type GenerateCodeOutput = z.infer&lt;typeof GenerateCodeOutputSchema&gt;;

export async function generateCode(input: GenerateCodeInput): Promise&lt;GenerateCodeOutput&gt; {
  return generateCodeFlow(input);
}

// Define the initial generation prompt
const generateCodePrompt = ai.definePrompt({
  name: 'generateCodePrompt',
  input: {
    schema: z.object({
      prompt: z.string().describe('The prompt describing the code to generate.'),
    }),
  },
  output: {
    schema: z.object({
      code: z.string().describe('The generated HTML code, containing all HTML, CSS, and JS.'),
    }),
  },
  // Updated prompt including the 100 rules and instructions for single HTML file output
  prompt: `You are an expert web developer tasked with generating comprehensive, visually stunning, and feature-rich web applications based on user prompts.
Follow these instructions STRICTLY:

1.  **Output Format:** Generate a SINGLE, complete HTML file. This file MUST contain all necessary HTML structure, CSS styles (within &lt;style&gt; tags or inline), and JavaScript logic (within &lt;script&gt; tags). Do NOT generate separate files or use external file references (like &lt;link rel="stylesheet"&gt; or &lt;script src="..."&gt;). The output MUST start with \`&lt;!DOCTYPE html&gt;\` and end with \`&lt;/html&gt;\`.
2.  **Adhere to the 100 Rules:** You MUST follow these 100 rules (provided below) to ensure comprehensive, high-quality, and user-centric output:
    ${HUNDRED_RULES}
3.  **Interpret the Prompt Broadly &amp; Massively Expand:** Based on the user's prompt, anticipate related features, consider edge cases, and build a complete, functional, and LARGE-SCALE mini-application or website within the single HTML file, guided by the 100 rules. Aim to generate THOUSANDS of lines of high-quality code.
4.  **Advanced UI/UX Implementation:** The generated application MUST be visually outstanding and highly interactive. Implement the following advanced UI/UX elements extensively:
    *   **Transitions:** Smooth and meaningful transitions for state changes, loading, reveals, etc.
    *   **Advanced Interfaces:** Complex layouts, interactive dashboards, multi-step forms, drag-and-drop interfaces, etc.
    *   **Shadows &amp; Lighting:** Use shadows (box-shadow, text-shadow) and subtle lighting effects to create depth and realism.
    *   **Panels &amp; Modals:** Implement well-designed side panels, modals, drawers, and overlays for secondary content or actions.
    *   **Ultra Animations:** Sophisticated animations (not just simple fades/slides) for user interactions, loading states, and visual appeal. Use CSS animations/transitions and JavaScript where necessary.
    *   **Gradients &amp; Colors:** Utilize beautiful gradients and a rich, harmonious color palette effectively throughout the design.
    *   **Excellent Graphics:** Incorporate visually appealing elements, potentially including placeholders or simple SVG graphics if appropriate, to enhance the overall look.
5.  **Website-Level Complexity:** The final output should resemble a complete section of a modern website or a full mini-application, not just a single component. Think multi-section pages, interactive elements, and a polished look and feel.
6.  **Code Quality:** Ensure the generated HTML, CSS, and JavaScript are clean, well-structured, efficient, performant, and adhere to modern web standards. Include comments where necessary. CSS should be placed in a &lt;style&gt; tag in the &lt;head&gt;, and JavaScript should be placed in a &lt;script&gt; tag just before the closing &lt;/body&gt; tag, unless specific placement is required.
7.  **No External Dependencies:** Do not include links to external libraries or frameworks unless explicitly requested and absolutely essential for the core functionality described (even then, prefer vanilla solutions if feasible). If a library like Tailwind is requested, embed the necessary CDN link or provide instructions, but default to inline/embedded styles.
8.  **Completeness:** Ensure the generated HTML code is complete and not truncated. Output the *entire* file content, starting with \`&lt;!DOCTYPE html&gt;\` and ending with \`&lt;/html&gt;\`. Partial or incomplete code is unacceptable.

User Prompt:
{{{prompt}}}

Generated Code (Single HTML File, Thousands of lines, Advanced UI/UX, Complete and Un-truncated, must end with &lt;/html&gt;):
&#x60;&#x60;&#x60;html
{{code}}
&#x60;&#x60;&#x60;`, // Expect the output directly within the html block
});

// Define the continuation prompt
const continueCodePrompt = ai.definePrompt({
  name: 'continueCodePrompt',
  input: {
    schema: z.object({
      originalPrompt: z.string().describe('The original user prompt for code generation.'),
      partialCode: z.string().describe('The incomplete code generated so far.'),
    }),
  },
  output: {
    schema: z.object({
      continuation: z.string().describe('The rest of the HTML code, starting exactly where the partial code left off.'),
    }),
  },
  prompt: `You are an expert web developer continuing the generation of a large HTML file. You previously generated the following partial code based on the original user prompt, but it was incomplete (it did not end with \`&lt;/html&gt;\`).

Original User Prompt:
{{{originalPrompt}}}

Partial Code Generated So Far:
&#x60;&#x60;&#x60;html
{{{partialCode}}}
&#x60;&#x60;&#x60;

**Your Task:** Continue generating the rest of the HTML code EXACTLY from where the partial code stopped. Do NOT repeat any part of the partial code. Ensure the final combined code (partial code + your continuation) is a single, valid, and complete HTML file ending with \`&lt;/html&gt;\`. Adhere to all the rules and advanced UI/UX requirements from the original generation task.

Continuation Code (Starts immediately after the end of partial code, completes the HTML file ending with &lt;/html&gt;):
&#x60;&#x60;&#x60;html
{{continuation}}
&#x60;&#x60;&#x60;`,
});


// Helper function to check if HTML seems complete
function isHtmlComplete(code: string): boolean {
    const trimmedCode = code.trim();
    // Simple check: does it end with </html>? More robust checks could be added.
    return trimmedCode.endsWith('&lt;/html&gt;');
}

// Helper function to clean up markdown backticks
function cleanupCode(code: string): string {
    let cleaned = code.trim();
    if (cleaned.startsWith('&#x60;&#x60;&#x60;html')) {
      cleaned = cleaned.substring(7).trimStart();
    }
    if (cleaned.endsWith('&#x60;&#x60;&#x60;')) {
      cleaned = cleaned.substring(0, cleaned.length - 3).trimEnd();
    }
    return cleaned;
}


const generateCodeFlow = ai.defineFlow&lt;
  typeof GenerateCodeInputSchema,
  typeof GenerateCodeOutputSchema
&gt;(
  {
    name: 'generateCodeFlow',
    inputSchema: GenerateCodeInputSchema,
    outputSchema: GenerateCodeOutputSchema,
  },
  async input =&gt; {
     let fullCode = '';
     let attempts = 0;

     // Initial generation attempt
     let response = await generateCodePrompt(input);
     let generatedHtml = cleanupCode(response.output?.code || '');
     fullCode = generatedHtml;

     // Check for completion and attempt continuation if needed
     while (!isHtmlComplete(fullCode) &amp;&amp; attempts &lt; MAX_CONTINUATION_ATTEMPTS) {
        attempts++;
        console.log(`Code generation incomplete (attempt ${attempts}). Requesting continuation...`);

        try {
            const continuationResponse = await continueCodePrompt({
                originalPrompt: input.prompt,
                partialCode: fullCode, // Pass the code generated so far
            });
            const continuationHtml = cleanupCode(continuationResponse.output?.continuation || '');

            if (continuationHtml) {
                fullCode += continuationHtml; // Append the continuation
                console.log(`Appended continuation (length: ${continuationHtml.length}). Total length: ${fullCode.length}`);
            } else {
                 console.warn(`Continuation attempt ${attempts} returned empty code.`);
                 // Avoid infinite loop if continuation keeps returning empty
                 break;
            }
        } catch (continuationError) {
            console.error(`Error during continuation attempt ${attempts}:`, continuationError);
             // Decide if you want to break or retry here. Breaking for now.
             break;
        }
     }

     if (!isHtmlComplete(fullCode)) {
        console.warn(`Code might still be incomplete after ${attempts} continuation attempts.`);
        // Optionally, throw an error or return the partial code with a warning
        // throw new Error(`Failed to generate complete code after ${MAX_CONTINUATION_ATTEMPTS} attempts.`);
     } else {
         console.log("Code generation appears complete.");
     }

     return { code: fullCode };
   }
);
</code></pre>
</div>

<div class="file-container">
    <h2>src/ai/flows/refactor-code.ts</h2>
    <pre><code>'use server';

/**
 * @fileOverview A code refactoring AI agent.
 *
 * - refactorCode - A function that handles the code refactoring process.
 * - RefactorCodeInput - The input type for the refactorCode function.
 * - RefactorCodeOutput - The return type for the refactorCode function.
 */

import {ai} from '@/ai/ai-instance';
import {z} from 'genkit';

const MAX_CONTINUATION_ATTEMPTS = 3; // Maximum number of times to ask for continuation

const RefactorCodeInputSchema = z.object({
  code: z.string().describe('The code to be refactored.'),
  prompt: z.string().describe('The prompt describing the desired refactoring changes.'),
});
export type RefactorCodeInput = z.infer&lt;typeof RefactorCodeInputSchema&gt;;

const RefactorCodeOutputSchema = z.object({
  refactoredCode: z.string().describe('The comprehensively refactored code.'),
});
export type RefactorCodeOutput = z.infer&lt;typeof RefactorCodeOutputSchema&gt;;

export async function refactorCode(input: RefactorCodeInput): Promise&lt;RefactorCodeOutput&gt; {
  return refactorCodeFlow(input);
}

// Define the initial refactoring prompt
const refactorCodePrompt = ai.definePrompt({
  name: 'refactorCodePrompt',
  input: {
    schema: z.object({
      code: z.string().describe('The code to be refactored.'),
      prompt: z.string().describe('The prompt describing the desired refactoring changes.'),
    }),
  },
  output: {
    schema: z.object({
      refactoredCode: z.string().describe('The comprehensively refactored code, must be a complete HTML document ending with &lt;/html&gt;.'),
    }),
  },
  prompt: `You are an expert code refactoring agent.

You will be given code and a prompt describing how to refactor the code. Apply the requested changes comprehensively throughout the code, ensuring consistency and maintaining functionality unless the prompt specifies otherwise.

**IMPORTANT:** Output *only* the fully refactored code. The output MUST contain the entire, complete, and un-truncated refactored code, starting with \`&lt;!DOCTYPE html&gt;\` and ending with \`&lt;/html&gt;\`. Partial output is not acceptable.

Original Code:
&#x60;&#x60;&#x60;html
{{{code}}}
&#x60;&#x60;&#x60;

Refactoring Prompt:
{{{prompt}}}

Refactored Code (Complete HTML, must end with &lt;/html&gt;):
&#x60;&#x60;&#x60;html
{{refactoredCode}}
&#x60;&#x60;&#x60;`,
});

// Define the continuation prompt for refactoring
const continueRefactorCodePrompt = ai.definePrompt({
  name: 'continueRefactorCodePrompt',
  input: {
    schema: z.object({
        originalCode: z.string().describe('The original code before refactoring.'),
        refactorPrompt: z.string().describe('The original refactoring prompt.'),
        partialRefactoredCode: z.string().describe('The incomplete refactored code generated so far.'),
    }),
  },
  output: {
    schema: z.object({
      continuation: z.string().describe('The rest of the refactored HTML code, starting exactly where the partial code left off.'),
    }),
  },
  prompt: `You are an expert code refactoring agent continuing the refactoring of a large HTML file. You were given the original code and a refactoring prompt. You started generating the refactored code, but it was incomplete (it did not end with \`&lt;/html&gt;\`).

Original Code:
&#x60;&#x60;&#x60;html
{{{originalCode}}}
&#x60;&#x60;&#x60;

Refactoring Prompt:
{{{refactorPrompt}}}

Partially Refactored Code Generated So Far:
&#x60;&#x60;&#x60;html
{{{partialRefactoredCode}}}
&#x60;&#x60;&#x60;

**Your Task:** Continue generating the rest of the refactored HTML code EXACTLY from where the partial code stopped. Do NOT repeat any part of the partial code. Ensure the final combined code (partial code + your continuation) is a single, valid, and complete refactored HTML file ending with \`&lt;/html&gt;\`, fully applying the refactoring prompt to the entire original code.

Continuation of Refactored Code (Starts immediately after the end of partial code, completes the HTML file ending with &lt;/html&gt;):
&#x60;&#x60;&#x60;html
{{continuation}}
&#x60;&#x60;&#x60;`,
});


// Helper function to check if HTML seems complete
function isHtmlComplete(code: string): boolean {
    const trimmedCode = code.trim();
    // Simple check: does it end with </html>? More robust checks could be added.
    return trimmedCode.endsWith('&lt;/html&gt;');
}

// Helper function to clean up markdown backticks
function cleanupCode(code: string): string {
    let cleaned = code.trim();
    // Handle potential markdown code blocks
    if (cleaned.startsWith('&#x60;&#x60;&#x60;html')) {
      cleaned = cleaned.substring(7);
      if (cleaned.endsWith('&#x60;&#x60;&#x60;')) {
        cleaned = cleaned.substring(0, cleaned.length - 3);
      }
    } else if (cleaned.startsWith('&#x60;&#x60;&#x60;')) {
      cleaned = cleaned.substring(3);
      if (cleaned.endsWith('&#x60;&#x60;&#x60;')) {
        cleaned = cleaned.substring(0, cleaned.length - 3);
      }
    }
     // Ensure final trim
    return cleaned.trim();
}


const refactorCodeFlow = ai.defineFlow&lt;
  typeof RefactorCodeInputSchema,
  typeof RefactorCodeOutputSchema
&gt;(
  {
    name: 'refactorCodeFlow',
    inputSchema: RefactorCodeInputSchema,
    outputSchema: RefactorCodeOutputSchema,
  },
  async input =&gt; {
    let fullRefactoredCode = '';
    let attempts = 0;

    // Initial refactor attempt
    let response = await refactorCodePrompt(input);
    let generatedHtml = cleanupCode(response.output?.refactoredCode || '');
    fullRefactoredCode = generatedHtml;

    // Check for completion and attempt continuation if needed
    while (!isHtmlComplete(fullRefactoredCode) &amp;&amp; attempts &lt; MAX_CONTINUATION_ATTEMPTS) {
       attempts++;
       console.log(`Refactored code incomplete (attempt ${attempts}). Requesting continuation...`);

       try {
           const continuationResponse = await continueRefactorCodePrompt({
               originalCode: input.code,
               refactorPrompt: input.prompt,
               partialRefactoredCode: fullRefactoredCode, // Pass the code generated so far
           });
           const continuationHtml = cleanupCode(continuationResponse.output?.continuation || '');

           if (continuationHtml) {
               fullRefactoredCode += '\n' + continuationHtml; // Append the continuation with a newline
               console.log(`Appended refactor continuation (length: ${continuationHtml.length}). Total length: ${fullRefactoredCode.length}`);
           } else {
                console.warn(`Refactor continuation attempt ${attempts} returned empty code.`);
                break; // Avoid infinite loop
           }
       } catch (continuationError) {
           console.error(`Error during refactor continuation attempt ${attempts}:`, continuationError);
           break; // Stop on error
       }
    }

    if (!isHtmlComplete(fullRefactoredCode)) {
        console.warn(`Refactored code might still be incomplete after ${attempts} continuation attempts.`);
        // Optionally throw an error
        // throw new Error(`Failed to generate complete refactored code after ${MAX_CONTINUATION_ATTEMPTS} attempts.`);
    } else {
        console.log("Refactored code generation appears complete.");
    }

    return { refactoredCode: fullRefactoredCode };
  }
);
</code></pre>
</div>

<div class="file-container">
    <h2>src/app/globals.css</h2>
    <pre><code>@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer base {
  :root {
    /* Light Theme */
    --background: 0 0% 93%; /* Light Gray #EEEEEE */
    --foreground: 0 0% 3.9%; /* Near Black */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 233 64% 30%; /* Dark Blue #1A237E */
    --primary-foreground: 0 0% 98%; /* Light Gray/White */
    --secondary: 0 0% 93%; /* Light Gray #EEEEEE */
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 187 100% 42%; /* Teal #00BCD4 */
    --accent-foreground: 0 0% 98%; /* White for good contrast on Teal */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 80%; /* Slightly darker border for light bg */
    --input: 0 0% 89.8%;
    --ring: 187 100% 42%; /* Teal for focus rings */
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 233 64% 15%; /* Darker Blue for sidebar */
    --sidebar-foreground: 0 0% 98%; /* Light Gray/White for text */
    --sidebar-primary: 187 100% 42%; /* Teal for active items */
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 233 64% 25%; /* Slightly lighter blue for hover */
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 233 64% 20%;
    --sidebar-ring: 187 100% 42%;
  }
  .dark {
    /* Dark Theme (Inverted for professional code editor feel) */
    --background: 233 30% 11%; /* Very Dark Desaturated Blue */
    --foreground: 0 0% 98%; /* Light Gray/White */
    --card: 233 30% 15%; /* Slightly Lighter Dark Blue */
    --card-foreground: 0 0% 98%;
    --popover: 233 30% 11%;
    --popover-foreground: 0 0% 98%;
    --primary: 187 100% 42%; /* Teal as primary */
    --primary-foreground: 233 30% 11%; /* Dark text on Teal */
    --secondary: 233 30% 20%; /* Slightly lighter dark blue */
    --secondary-foreground: 0 0% 98%;
    --muted: 233 30% 20%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 233 64% 40%; /* Original Dark Blue as accent */
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 233 30% 25%; /* Dark border */
    --input: 233 30% 20%;
    --ring: 187 100% 42%; /* Teal for focus rings */
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 233 30% 8%; /* Even darker for sidebar */
    --sidebar-foreground: 0 0% 98%;
    --sidebar-primary: 187 100% 42%; /* Teal for active items */
    --sidebar-primary-foreground: 233 30% 11%;
    --sidebar-accent: 233 30% 15%; /* Slightly lighter dark blue for hover */
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 233 30% 15%;
    --sidebar-ring: 187 100% 42%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Add custom styles for split-screen layout */
@layer components {
  .split-screen {
    @apply grid grid-cols-1 md:grid-cols-2 gap-4 h-screen;
  }
  .split-left {
    @apply flex flex-col p-4 overflow-y-auto;
  }
  .split-right {
    @apply flex flex-col p-4 border-l border-border overflow-y-auto;
  }
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/app/layout.tsx</h2>
    <pre><code>import type { Metadata } from 'next';
import { Inter } from 'next/font/google'; // Changed to Inter for a more modern feel
import './globals.css';
import { Toaster } from '@/components/ui/toaster'; // Import Toaster
import { AppProviders } from './providers'; // Import AppProviders

const inter = Inter({
  variable: '--font-inter',
  subsets: ['latin'],
});

export const metadata: Metadata = {
  title: 'AI Code Weaver', // Updated title
  description: 'AI-powered code generation and preview tool', // Updated description
};

export default function RootLayout({
  children,
}: Readonly&lt;{
  children: React.ReactNode;
}&gt;) {
  return (
    &lt;html lang="en" suppressHydrationWarning&gt;
      &lt;body className={`${inter.variable} font-sans antialiased`}&gt;
        &lt;AppProviders&gt; {/* Wrap with AppProviders for context/state */}
          {children}
          &lt;Toaster /&gt; {/* Add Toaster component */}
        &lt;/AppProviders&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  );
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/app/page.tsx</h2>
    <pre><code>import { CodeInput } from '@/components/code-input';
import { CodeOutput } from '@/components/code-output';
import { Header } from '@/components/header';
import { Preview } from '@/components/preview';

export default function Home() {
  return (
    &lt;div className="flex flex-col h-screen bg-secondary"&gt;
      &lt;Header /&gt;
      &lt;main className="flex-1 grid grid-cols-1 md:grid-cols-2 gap-px bg-border overflow-hidden"&gt;
        &lt;div className="flex flex-col bg-background overflow-hidden"&gt;
          &lt;CodeInput /&gt;
        &lt;/div&gt;
        &lt;div className="flex flex-col bg-background overflow-hidden"&gt;
          &lt;CodeOutput /&gt;
          &lt;Preview /&gt;
        &lt;/div&gt;
      &lt;/main&gt;
    &lt;/div&gt;
  );
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/app/providers.tsx</h2>
    <pre><code>'use client';

import React from 'react';
import { CodeProvider } from '@/context/code-context';

export function AppProviders({ children }: { children: React.ReactNode }) {
  return &lt;CodeProvider&gt;{children}&lt;/CodeProvider&gt;;
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/code-input.tsx</h2>
    <pre><code>'use client';

import React from 'react';
import { Textarea } from '@/components/ui/textarea';
import { Button } from '@/components/ui/button';
import { Label } from '@/components/ui/label';
import { useCodeContext } from '@/context/code-context';
import { Loader2, AlertCircle } from 'lucide-react';
import { ScrollArea } from './ui/scroll-area';

export function CodeInput() {
  const { prompt, setPrompt, handleGenerateCode, isLoading, error } = useCodeContext();

  const handleInputChange = (event: React.ChangeEvent&lt;HTMLTextAreaElement&gt;) =&gt; {
    setPrompt(event.target.value);
  };

  const handleKeyDown = (event: React.KeyboardEvent&lt;HTMLTextAreaElement&gt;) =&gt; {
    // Allow submitting with Cmd/Ctrl + Enter
    if ((event.metaKey || event.ctrlKey) &amp;&amp; event.key === 'Enter') {
      event.preventDefault(); // Prevent default newline behavior
      if (!isLoading) {
        handleGenerateCode();
      }
    }
  };

  return (
    &lt;div className="flex flex-col h-full p-4 space-y-4"&gt;
       &lt;Label htmlFor="prompt-input" className="text-lg font-semibold flex items-center gap-2"&gt;
         &lt;svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-terminal"&gt;&lt;polyline points="4 17 10 11 4 5"/&gt;&lt;line x1="12" x2="20" y1="19" y2="19"/&gt;&lt;/svg&gt;
         Enter Your Prompt
       &lt;/Label&gt;
      &lt;ScrollArea className="flex-1"&gt;
         &lt;Textarea
           id="prompt-input"
           placeholder="Describe the code you want to generate (e.g., 'Create a React button component with primary and secondary variants using Tailwind CSS')..."
           value={prompt}
           onChange={handleInputChange}
           onKeyDown={handleKeyDown} // Add keydown listener
           className="min-h-[200px] flex-1 resize-none text-base" // Use text-base for better readability
           aria-label="Code generation prompt"
         /&gt;
      &lt;/ScrollArea&gt;
      {error &amp;&amp; (
        &lt;div className="flex items-center text-destructive text-sm p-2 bg-destructive/10 rounded-md"&gt;
          &lt;AlertCircle className="h-4 w-4 mr-2" /&gt;
          {error}
        &lt;/div&gt;
      )}
      &lt;Button
        onClick={handleGenerateCode}
        disabled={isLoading || !prompt.trim()}
        className="w-full transition-all duration-200" // Add transition
        aria-live="polite" // Announce loading state changes
      &gt;
        {isLoading ? (
          &lt;&gt;
            &lt;Loader2 className="mr-2 h-4 w-4 animate-spin" /&gt;
            Generating...
          &lt;/&gt;
        ) : (
          'Generate Code'
        )}
      &lt;/Button&gt;
    &lt;/div&gt;
  );
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/code-output.tsx</h2>
    <pre><code>'use client';

import React, { useState } from 'react';
import { useCodeContext } from '@/context/code-context';
import { Button } from '@/components/ui/button';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Download, Clipboard, Check, Code, FileText, Undo, Pencil } from 'lucide-react'; // Added Undo, Pencil
import { Skeleton } from '@/components/ui/skeleton';
import { useToast } from '@/hooks/use-toast';
import { RefactorCodeModal } from './refactor-code-modal'; // Import the new modal

export function CodeOutput() {
  const {
    generatedCode,
    isLoading,
    error,
    downloadCode,
    undoRefactor, // Get undo function
    previousGeneratedCode, // Get previous state to enable/disable undo
    setIsRefactorModalOpen, // Function to open the modal
  } = useCodeContext();
  const { toast } = useToast();
  const [isCopied, setIsCopied] = useState&lt;boolean&gt;(false);

  const handleCopy = async (content: string) =&gt; {
    if (!content) return;
    try {
      await navigator.clipboard.writeText(content);
      setIsCopied(true);
      toast({
        title: 'Copied!',
        description: `HTML code copied to clipboard.`,
        duration: 2000,
      });
      setTimeout(() =&gt; {
        setIsCopied(false);
      }, 2000);
    } catch (err) {
      console.error('Failed to copy:', err);
       toast({
         title: 'Error Copying',
         description: 'Could not copy code to clipboard.',
         variant: 'destructive',
         duration: 3000,
       });
    }
  };

  const renderContent = () =&gt; {
    if (isLoading) {
      return (
         &lt;div className="p-4 space-y-4"&gt;
           &lt;Skeleton className="h-8 w-1/4" /&gt;
           &lt;Skeleton className="h-6 w-1/2" /&gt;
           &lt;Skeleton className="h-4 w-3/4" /&gt;
           &lt;Skeleton className="h-4 w-full" /&gt;
           &lt;Skeleton className="h-4 w-5/6" /&gt;
         &lt;/div&gt;
       );
    }

    // Show initial placeholder/error state before first generation
    if (!generatedCode &amp;&amp; !error) {
       return (
         &lt;div className="flex items-center justify-center h-full text-muted-foreground p-4 text-center"&gt;
            &lt;FileText className="h-10 w-10 mr-4" /&gt;
            &lt;div&gt;
             &lt;p className="font-semibold"&gt;No Code Generated Yet&lt;/p&gt;
             &lt;p&gt;Enter a prompt and click "Generate Code".&lt;/p&gt;
            &lt;/div&gt;
         &lt;/div&gt;
       );
    }
    // Show error state if an error occurred and no code was generated
    if (error &amp;&amp; !generatedCode) {
       return (
         &lt;div className="flex items-center justify-center h-full text-destructive p-4 text-center"&gt;
           &lt;FileText className="h-10 w-10 mr-4" /&gt;
           &lt;div&gt;
             &lt;p className="font-semibold"&gt;Generation Failed&lt;/p&gt;
             &lt;p&gt;Could not generate code. Check the error message or try again.&lt;/p&gt;
           &lt;/div&gt;
         &lt;/div&gt;
       );
     }


    // Display the generated HTML code
    return (
       &lt;div className="relative flex-1 p-0 m-0 h-full"&gt;
           &lt;div className="absolute top-2 right-2 flex gap-2 z-10"&gt;
             {/* Undo Button */}
             &lt;Button
               variant="ghost"
               size="icon"
               onClick={undoRefactor}
               disabled={!previousGeneratedCode}
               aria-label="Undo Last Refactor"
               title="Undo Last Refactor"
               className="h-8 w-8"
             &gt;
               &lt;Undo className="h-4 w-4" /&gt;
             &lt;/Button&gt;
             {/* Edit/Refactor Button (triggers modal) */}
             &lt;Button
                variant="ghost"
                size="icon"
                onClick={() =&gt; setIsRefactorModalOpen(true)} // Open modal on click
                disabled={isLoading || !generatedCode}
                aria-label="Refactor Code"
                title="Refactor Code"
                className="h-8 w-8"
              &gt;
                &lt;Pencil className="h-4 w-4" /&gt;
              &lt;/Button&gt;
             {/* Copy Button */}
             &lt;Button
               variant="ghost"
               size="icon"
               onClick={() =&gt; handleCopy(generatedCode)}
               disabled={!generatedCode}
               aria-label="Copy HTML Code"
               title="Copy HTML Code"
               className="h-8 w-8"
             &gt;
               {isCopied ? &lt;Check className="h-4 w-4 text-green-500" /&gt; : &lt;Clipboard className="h-4 w-4" /&gt;}
             &lt;/Button&gt;
             {/* Download Button */}
             &lt;Button
                variant="ghost"
                size="icon"
                onClick={downloadCode}
                disabled={isLoading || !generatedCode}
                aria-label="Download HTML file"
                title="Download index.html"
                className="h-8 w-8"
              &gt;
                &lt;Download className="h-4 w-4" /&gt;
              &lt;/Button&gt;
            &lt;/div&gt;
           &lt;ScrollArea className="h-full w-full"&gt;
            {/* Use &lt;pre&gt;&lt;code&gt; for proper code formatting */}
            &lt;pre className="text-sm p-4 pt-12 bg-muted/30 rounded-md overflow-auto font-mono whitespace-pre-wrap break-words h-full"&gt;
              &lt;code&gt;{generatedCode || '// No code generated yet...'}
              &lt;/code&gt;
            &lt;/pre&gt;
           &lt;/ScrollArea&gt;
        &lt;/div&gt;
    );
  };

  return (
    &lt;div className="flex flex-col flex-1 h-1/2 border-b border-border overflow-hidden"&gt;
      &lt;div className="flex items-center justify-between p-4 border-b"&gt;
         &lt;div className="flex items-center"&gt;
           &lt;Code className="h-5 w-5 mr-2" /&gt;
           &lt;h2 className="text-lg font-semibold"&gt;Generated Code (index.html)&lt;/h2&gt;
         &lt;/div&gt;
         {/* Action Buttons Group */}
         &lt;div className="flex items-center gap-2"&gt;
            {/* Simplified Download Button */}
             &lt;Button
               variant="outline"
               size="sm"
               onClick={downloadCode}
               disabled={isLoading || !generatedCode}
             &gt;
               &lt;Download className="mr-2 h-4 w-4" /&gt;
               Download HTML
             &lt;/Button&gt;
              {/* Simplified Edit Button */}
             &lt;Button
               variant="outline"
               size="sm"
               onClick={() =&gt; setIsRefactorModalOpen(true)} // Open modal
               disabled={isLoading || !generatedCode}
             &gt;
               &lt;Pencil className="mr-2 h-4 w-4" /&gt;
               Edit Code
             &lt;/Button&gt;
             {/* Simplified Undo Button */}
             &lt;Button
               variant="outline"
               size="sm"
               onClick={undoRefactor}
               disabled={!previousGeneratedCode}
             &gt;
               &lt;Undo className="mr-2 h-4 w-4" /&gt;
               Undo Edit
             &lt;/Button&gt;
         &lt;/div&gt;
      &lt;/div&gt;
      &lt;div className="flex-1 relative overflow-hidden"&gt;
         {renderContent()}
      &lt;/div&gt;
      {/* Render the modal - it handles its own open state via context */}
      &lt;RefactorCodeModal /&gt;
    &lt;/div&gt;
  );
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/header.tsx</h2>
    <pre><code>import React from 'react';
import { Code, Bot } from 'lucide-react'; // Use appropriate icons

export function Header() {
  return (
    &lt;header className="flex items-center justify-between p-4 bg-primary text-primary-foreground shadow-md"&gt;
      &lt;div className="flex items-center gap-2"&gt;
        &lt;Bot className="h-6 w-6" /&gt; {/* Or use Code icon */}
        &lt;h1 className="text-xl font-semibold"&gt;AI Code Weaver&lt;/h1&gt; {/* Ensure consistent title */}
      &lt;/div&gt;
       {/* Add any other header elements like user profile, settings, etc. here */}
       {/* Example:
       &lt;div className="flex items-center gap-4"&gt;
         &lt;Button variant="ghost" size="icon"&gt;
           &lt;Settings className="h-5 w-5" /&gt;
         &lt;/Button&gt;
         &lt;Avatar&gt;
           &lt;AvatarImage src="https://github.com/shadcn.png" alt="@shadcn" /&gt;
           &lt;AvatarFallback&gt;CN&lt;/AvatarFallback&gt;
         &lt;/Avatar&gt;
       &lt;/div&gt;
       */}
    &lt;/header&gt;
  );
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/preview.tsx</h2>
    <pre><code>
'use client';

import React, { useEffect, useState, useRef, useCallback } from 'react';
import { useCodeContext } from '@/context/code-context';
import { Button } from '@/components/ui/button';
import { Eye, RefreshCcw, AlertTriangle, Expand, Shrink } from 'lucide-react';
import { cn } from '@/lib/utils';

export function Preview() {
  const { previewUrl, updatePreview, isLoading, generatedCode } = useCodeContext();
  const [isFullscreen, setIsFullscreen] = useState(false);
  const iframeRef = useRef&lt;HTMLIFrameElement&gt;(null);
  const containerRef = useRef&lt;HTMLDivElement&gt;(null); // Ref for the container to make fullscreen

  // Automatically update preview when generated code changes
  useEffect(() =&gt; {
    if (generatedCode &amp;&amp; !isLoading) {
      updatePreview();
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [generatedCode, isLoading]); // updatePreview is stable due to useCallback

  const handleRefresh = () =&gt; {
    updatePreview();
    // If the iframe is currently loaded, refresh it directly
    if (iframeRef.current) {
        iframeRef.current.src = previewUrl || '';
    }
  };

  const handleFullscreen = useCallback(() =&gt; {
    if (!containerRef.current) return;

    if (!document.fullscreenElement) {
      containerRef.current.requestFullscreen().catch((err) =&gt; {
        alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`);
      });
    } else {
      document.exitFullscreen();
    }
  }, []);

  useEffect(() =&gt; {
    const handleFullscreenChange = () =&gt; {
      setIsFullscreen(!!document.fullscreenElement);
    };

    document.addEventListener('fullscreenchange', handleFullscreenChange);
    document.addEventListener('webkitfullscreenchange', handleFullscreenChange); // Safari
    document.addEventListener('mozfullscreenchange', handleFullscreenChange); // Firefox
    document.addEventListener('MSFullscreenChange', handleFullscreenChange); // IE/Edge

    return () =&gt; {
      document.removeEventListener('fullscreenchange', handleFullscreenChange);
      document.removeEventListener('webkitfullscreenchange', handleFullscreenChange);
      document.removeEventListener('mozfullscreenchange', handleFullscreenChange);
      document.removeEventListener('MSFullscreenChange', handleFullscreenChange);
    };
  }, []);


  return (
    // Use relative positioning on the outer div to contain the absolute fullscreen element
    &lt;div className="flex flex-col flex-1 h-1/2 overflow-hidden relative"&gt;
      &lt;div className="flex items-center justify-between p-4 border-b"&gt;
        &lt;div className="flex items-center gap-2"&gt;
            &lt;Eye className="h-5 w-5" /&gt;
            &lt;h2 className="text-lg font-semibold"&gt;Preview (index.html)&lt;/h2&gt;
        &lt;/div&gt;
        &lt;div className="flex items-center gap-2"&gt;
           &lt;Button
             variant="outline"
             size="sm"
             onClick={handleFullscreen}
             disabled={!previewUrl}
             title={isFullscreen ? "Exit Fullscreen" : "Enter Fullscreen"}
           &gt;
             {isFullscreen ? &lt;Shrink className="h-4 w-4" /&gt; : &lt;Expand className="h-4 w-4" /&gt;}
           &lt;/Button&gt;
          &lt;Button
            variant="outline"
            size="sm"
            onClick={handleRefresh}
            disabled={isLoading || !previewUrl}
            title="Refresh Preview"
          &gt;
            &lt;RefreshCcw className="h-4 w-4" /&gt;
          &lt;/Button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      {/* Container Ref for Fullscreen */}
      &lt;div ref={containerRef} className={cn(
        "flex-1 bg-background relative",
        // Use bg-background explicitly for fullscreen background
        isFullscreen &amp;&amp; "fixed inset-0 z-50 bg-background"
      )}&gt;
        {isLoading &amp;&amp; !isFullscreen ? ( // Only show loading outside fullscreen
           &lt;div className="absolute inset-0 flex items-center justify-center h-full text-muted-foreground"&gt;
             Generating Preview...
           &lt;/div&gt;
        ) : previewUrl ? (
          &lt;iframe
            ref={iframeRef}
            src={previewUrl}
            title="Code Preview"
            // Adjust className for fullscreen: ensure it fills the container
            className={cn(
               "w-full h-full border-0",
               isFullscreen ? "absolute inset-0" : "relative" // Use absolute only in fullscreen
            )}
            sandbox="allow-scripts allow-same-origin"
            key={previewUrl} // Force iframe remount when URL changes might not be needed if refreshing directly
          /&gt;
        ) : (
          !isFullscreen &amp;&amp; ( // Only show placeholder outside fullscreen
              &lt;div className="absolute inset-0 flex flex-col items-center justify-center h-full text-muted-foreground p-4 text-center"&gt;
                &lt;AlertTriangle className="h-10 w-10 mb-4 text-amber-500" /&gt;
                &lt;p className="font-semibold"&gt;No Preview Available&lt;/p&gt;
                {generatedCode ? (
                     &lt;p&gt;Could not generate preview. Try refreshing.&lt;/p&gt;
                  ) : (
                     &lt;p&gt;Generate some code to see a preview here.&lt;/p&gt;
                  )}
              &lt;/div&gt;
           )
        )}
         {/* Add an exit button visible only in fullscreen */}
         {isFullscreen &amp;&amp; (
             &lt;Button
               variant="secondary" // Use a different variant for visibility
               size="icon"
               onClick={handleFullscreen}
               title="Exit Fullscreen"
               className="absolute top-4 right-4 z-[60] rounded-full" // Ensure it's above iframe
             &gt;
               &lt;Shrink className="h-5 w-5" /&gt;
             &lt;/Button&gt;
           )}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/refactor-code-modal.tsx</h2>
    <pre><code>'use client';

import React, { useMemo } from 'react'; // Added useMemo
import { useCodeContext } from '@/context/code-context';
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
  DialogFooter,
} from '@/components/ui/dialog';
import { Button } from '@/components/ui/button';
import { Textarea } from '@/components/ui/textarea';
import { Label } from '@/components/ui/label';
import { Loader2, AlertCircle, Diff, Pencil, ArrowRightLeft } from 'lucide-react'; // Added Pencil, ArrowRightLeft
import { ScrollArea } from './ui/scroll-area';
import { Skeleton } from './ui/skeleton';
import { Badge } from './ui/badge'; // Added Badge

// Helper function to count lines
const countLines = (text: string | null | undefined): number =&gt; {
  return text ? text.split('\n').length : 0;
};

export function RefactorCodeModal() {
  const {
    isRefactorModalOpen,
    setIsRefactorModalOpen,
    refactorPrompt,
    setRefactorPrompt,
    generatedCode, // Original code for context/diff
    refactoredCode, // Proposed refactored code
    isRefactoring,
    refactorError,
    handleRefactorCode,
    applyRefactor,
  } = useCodeContext();

  const handleInputChange = (event: React.ChangeEvent&lt;HTMLTextAreaElement&gt;) =&gt; {
    setRefactorPrompt(event.target.value);
  };

  const handleKeyDown = (event: React.KeyboardEvent&lt;HTMLTextAreaElement&gt;) =&gt; {
    if ((event.metaKey || event.ctrlKey) &amp;&amp; event.key === 'Enter') {
      event.preventDefault();
      if (!isRefactoring) {
        handleRefactorCode();
      }
    }
  };

  // Calculate line counts and difference
  const originalLines = useMemo(() =&gt; countLines(generatedCode), [generatedCode]);
  const refactoredLines = useMemo(() =&gt; countLines(refactoredCode), [refactoredCode]);
  const lineDifference = useMemo(() =&gt; refactoredLines - originalLines, [originalLines, refactoredLines]);

  const renderDiff = () =&gt; {
    if (isRefactoring) {
      return (
        &lt;div className="space-y-2 mt-4"&gt;
          &lt;Skeleton className="h-4 w-1/3" /&gt;
          &lt;Skeleton className="h-4 w-full" /&gt;
          &lt;Skeleton className="h-4 w-full" /&gt;
          &lt;Skeleton className="h-4 w-2/3" /&gt;
        &lt;/div&gt;
      );
    }

    if (refactorError) {
      return (
        &lt;div className="mt-4 text-destructive text-sm p-2 bg-destructive/10 rounded-md flex items-center"&gt;
          &lt;AlertCircle className="h-4 w-4 mr-2 shrink-0" /&gt;
          &lt;span&gt;{refactorError}&lt;/span&gt;
        &lt;/div&gt;
      );
    }

    if (!refactoredCode) {
      return (
        &lt;div className="mt-4 text-center text-muted-foreground py-8"&gt;
          Enter instructions and click "Preview Changes" to see the proposed refactoring.
        &lt;/div&gt;
      );
    }

    // Basic side-by-side view using pre/code inside ScrollArea
    return (
      &lt;div className="mt-4 border rounded-md"&gt;
         {/* Header for line counts and difference */}
         &lt;div className="flex justify-between items-center px-3 py-2 border-b bg-muted/50 text-xs text-muted-foreground"&gt;
           &lt;span&gt;Original ({originalLines} lines)&lt;/span&gt;
            &lt;Badge variant={lineDifference === 0 ? "secondary" : (lineDifference &gt; 0 ? "default" : "destructive")} className="flex items-center gap-1"&gt;
                 &lt;ArrowRightLeft className="h-3 w-3" /&gt;
                 {lineDifference &gt; 0 ? `+${lineDifference}` : lineDifference} lines
            &lt;/Badge&gt;
           &lt;span&gt;Refactored ({refactoredLines} lines)&lt;/span&gt;
         &lt;/div&gt;
         {/* Code Comparison Area */}
        &lt;div className="grid grid-cols-2 gap-0 max-h-[45vh] overflow-hidden"&gt; {/* Applied max-h here */}
            &lt;div className="flex flex-col h-full overflow-hidden border-r"&gt; {/* Ensure flex container takes height */}
                {/* Use h-full on ScrollArea */}
                &lt;ScrollArea className="flex-1 p-2 bg-muted/20 h-full"&gt; {/* Added h-full */}
                   &lt;pre className="text-xs font-mono whitespace-pre break-words"&gt; {/* Removed whitespace-pre-wrap */}
                     &lt;code&gt;{generatedCode}&lt;/code&gt;
                   &lt;/pre&gt;
                &lt;/ScrollArea&gt;
            &lt;/div&gt;
            &lt;div className="flex flex-col h-full overflow-hidden"&gt; {/* Ensure flex container takes height */}
                {/* Use h-full on ScrollArea */}
                &lt;ScrollArea className="flex-1 p-2 bg-green-500/10 h-full"&gt; {/* Added h-full */}
                  &lt;pre className="text-xs font-mono whitespace-pre break-words"&gt; {/* Removed whitespace-pre-wrap */}
                    &lt;code&gt;{refactoredCode}&lt;/code&gt;
                  &lt;/pre&gt;
                &lt;/ScrollArea&gt;
            &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    );
  };

  return (
    &lt;Dialog open={isRefactorModalOpen} onOpenChange={setIsRefactorModalOpen}&gt;
      {/* Increased max-width */}
      &lt;DialogContent className="sm:max-w-[90vw] md:max-w-[80vw] lg:max-w-[70vw] xl:max-w-[65vw]"&gt;
        &lt;DialogHeader&gt;
          &lt;DialogTitle className="flex items-center gap-2"&gt;
             &lt;Pencil className="h-5 w-5"/&gt;
             Refactor Code
          &lt;/DialogTitle&gt;
          &lt;DialogDescription&gt;
            Enter instructions on how you want to modify the existing generated code. The AI will attempt to apply these changes.
          &lt;/DialogDescription&gt;
        &lt;/DialogHeader&gt;
        &lt;div className="grid gap-4 py-4"&gt;
          &lt;div className="grid gap-2"&gt;
            &lt;Label htmlFor="refactor-prompt"&gt;Refactoring Instructions&lt;/Label&gt;
            &lt;Textarea
              id="refactor-prompt"
              placeholder="e.g., 'Change the primary button color to green', 'Add a loading spinner to the form submission', 'Make the header sticky'..."
              value={refactorPrompt}
              onChange={handleInputChange}
              onKeyDown={handleKeyDown}
              className="min-h-[100px] text-sm"
              aria-label="Refactoring instructions prompt"
              disabled={isRefactoring}
            /&gt;
          &lt;/div&gt;

          &lt;Button
             onClick={handleRefactorCode}
             disabled={isRefactoring || !refactorPrompt.trim() || !generatedCode}
             className="w-full"
             variant="secondary"
           &gt;
             {isRefactoring ? (
               &lt;&gt;
                 &lt;Loader2 className="mr-2 h-4 w-4 animate-spin" /&gt;
                 Previewing Changes...
               &lt;/&gt;
             ) : (
               &lt;&gt;
                 &lt;Diff className="mr-2 h-4 w-4" /&gt;
                 Preview Changes
               &lt;/&gt;
             )}
           &lt;/Button&gt;

          {/* Diff Viewer Section */}
          {renderDiff()}

        &lt;/div&gt;
        &lt;DialogFooter&gt;
          &lt;Button variant="outline" onClick={() =&gt; setIsRefactorModalOpen(false)} disabled={isRefactoring}&gt;
            Cancel
          &lt;/Button&gt;
          &lt;Button
            onClick={applyRefactor}
            disabled={isRefactoring || !refactoredCode || !!refactorError}
          &gt;
            Apply Changes
          &lt;/Button&gt;
        &lt;/DialogFooter&gt;
      &lt;/DialogContent&gt;
    &lt;/Dialog&gt;
  );
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/accordion.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as AccordionPrimitive from "@radix-ui/react-accordion"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const Accordion = AccordionPrimitive.Root

const AccordionItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof AccordionPrimitive.Item&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AccordionPrimitive.Item&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AccordionPrimitive.Item
    ref={ref}
    className={cn("border-b", className)}
    {...props}
  /&gt;
))
AccordionItem.displayName = "AccordionItem"

const AccordionTrigger = React.forwardRef&lt;
  React.ElementRef&lt;typeof AccordionPrimitive.Trigger&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AccordionPrimitive.Trigger&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;AccordionPrimitive.Header className="flex"&gt;
    &lt;AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&amp;[data-state=open]&gt;svg]:rotate-180",
        className
      )}
      {...props}
    &gt;
      {children}
      &lt;ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" /&gt;
    &lt;/AccordionPrimitive.Trigger&gt;
  &lt;/AccordionPrimitive.Header&gt;
))
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName

const AccordionContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof AccordionPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AccordionPrimitive.Content&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  &gt;
    &lt;div className={cn("pb-4 pt-0", className)}&gt;{children}&lt;/div&gt;
  &lt;/AccordionPrimitive.Content&gt;
))

AccordionContent.displayName = AccordionPrimitive.Content.displayName

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/alert-dialog.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

const AlertDialog = AlertDialogPrimitive.Root

const AlertDialogTrigger = AlertDialogPrimitive.Trigger

const AlertDialogPortal = AlertDialogPrimitive.Portal

const AlertDialogOverlay = React.forwardRef&lt;
  React.ElementRef&lt;typeof AlertDialogPrimitive.Overlay&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AlertDialogPrimitive.Overlay&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AlertDialogPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  /&gt;
))
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName

const AlertDialogContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof AlertDialogPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AlertDialogPrimitive.Content&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AlertDialogPortal&gt;
    &lt;AlertDialogOverlay /&gt;
    &lt;AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    /&gt;
  &lt;/AlertDialogPortal&gt;
))
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLDivElement&gt;) =&gt; (
  &lt;div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  /&gt;
)
AlertDialogHeader.displayName = "AlertDialogHeader"

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLDivElement&gt;) =&gt; (
  &lt;div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  /&gt;
)
AlertDialogFooter.displayName = "AlertDialogFooter"

const AlertDialogTitle = React.forwardRef&lt;
  React.ElementRef&lt;typeof AlertDialogPrimitive.Title&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AlertDialogPrimitive.Title&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AlertDialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold", className)}
    {...props}
  /&gt;
))
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName

const AlertDialogDescription = React.forwardRef&lt;
  React.ElementRef&lt;typeof AlertDialogPrimitive.Description&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AlertDialogPrimitive.Description&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AlertDialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  /&gt;
))
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName

const AlertDialogAction = React.forwardRef&lt;
  React.ElementRef&lt;typeof AlertDialogPrimitive.Action&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AlertDialogPrimitive.Action&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  /&gt;
))
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName

const AlertDialogCancel = React.forwardRef&lt;
  React.ElementRef&lt;typeof AlertDialogPrimitive.Cancel&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AlertDialogPrimitive.Cancel&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: "outline" }),
      "mt-2 sm:mt-0",
      className
    )}
    {...props}
  /&gt;
))
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/alert.tsx</h2>
    <pre><code>import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border p-4 [&amp;&gt;svg~*]:pl-7 [&amp;&gt;svg+div]:translate-y-[-3px] [&amp;&gt;svg]:absolute [&amp;&gt;svg]:left-4 [&amp;&gt;svg]:top-4 [&amp;&gt;svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive:
          "border-destructive/50 text-destructive dark:border-destructive [&amp;&gt;svg]:text-destructive",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Alert = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt; &amp; VariantProps&lt;typeof alertVariants&gt;
&gt;(({ className, variant, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  /&gt;
))
Alert.displayName = "Alert"

const AlertTitle = React.forwardRef&lt;
  HTMLParagraphElement,
  React.HTMLAttributes&lt;HTMLHeadingElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;h5
    ref={ref}
    className={cn("mb-1 font-medium leading-none tracking-tight", className)}
    {...props}
  /&gt;
))
AlertTitle.displayName = "AlertTitle"

const AlertDescription = React.forwardRef&lt;
  HTMLParagraphElement,
  React.HTMLAttributes&lt;HTMLParagraphElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    className={cn("text-sm [&amp;_p]:leading-relaxed", className)}
    {...props}
  /&gt;
))
AlertDescription.displayName = "AlertDescription"

export { Alert, AlertTitle, AlertDescription }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/avatar.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef&lt;
  React.ElementRef&lt;typeof AvatarPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AvatarPrimitive.Root&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  /&gt;
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef&lt;
  React.ElementRef&lt;typeof AvatarPrimitive.Image&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AvatarPrimitive.Image&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  /&gt;
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef&lt;
  React.ElementRef&lt;typeof AvatarPrimitive.Fallback&gt;,
  React.ComponentPropsWithoutRef&lt;typeof AvatarPrimitive.Fallback&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  /&gt;
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/badge.tsx</h2>
    <pre><code>import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
        success: // Added success variant
          "border-transparent bg-green-600 text-primary-foreground hover:bg-green-600/80", // Example success color
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes&lt;HTMLDivElement&gt;,
    VariantProps&lt;typeof badgeVariants&gt; {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    &lt;div className={cn(badgeVariants({ variant }), className)} {...props} /&gt;
  )
}

export { Badge, badgeVariants }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/button.tsx</h2>
    <pre><code>import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes&lt;HTMLButtonElement&gt;,
    VariantProps&lt;typeof buttonVariants&gt; {
  asChild?: boolean
}

const Button = React.forwardRef&lt;HTMLButtonElement, ButtonProps&gt;(
  ({ className, variant, size, asChild = false, ...props }, ref) =&gt; {
    const Comp = asChild ? Slot : "button"
    return (
      &lt;Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      /&gt;
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/calendar.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import { ChevronLeft, ChevronRight } from "lucide-react"
import { DayPicker } from "react-day-picker"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

export type CalendarProps = React.ComponentProps&lt;typeof DayPicker&gt;

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  ...props
}: CalendarProps) {
  return (
    &lt;DayPicker
      showOutsideDays={showOutsideDays}
      className={cn("p-3", className)}
      classNames={{
        months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
        month: "space-y-4",
        caption: "flex justify-center pt-1 relative items-center",
        caption_label: "text-sm font-medium",
        nav: "space-x-1 flex items-center",
        nav_button: cn(
          buttonVariants({ variant: "outline" }),
          "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"
        ),
        nav_button_previous: "absolute left-1",
        nav_button_next: "absolute right-1",
        table: "w-full border-collapse space-y-1",
        head_row: "flex",
        head_cell:
          "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
        row: "flex w-full mt-2",
        cell: "h-9 w-9 text-center text-sm p-0 relative [&amp;:has([aria-selected].day-range-end)]:rounded-r-md [&amp;:has([aria-selected].day-outside)]:bg-accent/50 [&amp;:has([aria-selected])]:bg-accent first:[&amp;:has([aria-selected])]:rounded-l-md last:[&amp;:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
        day: cn(
          buttonVariants({ variant: "ghost" }),
          "h-9 w-9 p-0 font-normal aria-selected:opacity-100"
        ),
        day_range_end: "day-range-end",
        day_selected:
          "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
        day_today: "bg-accent text-accent-foreground",
        day_outside:
          "day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",
        day_disabled: "text-muted-foreground opacity-50",
        day_range_middle:
          "aria-selected:bg-accent aria-selected:text-accent-foreground",
        day_hidden: "invisible",
        ...classNames,
      }}
      components={{
        IconLeft: ({ className, ...props }) =&gt; (
          &lt;ChevronLeft className={cn("h-4 w-4", className)} {...props} /&gt;
        ),
        IconRight: ({ className, ...props }) =&gt; (
          &lt;ChevronRight className={cn("h-4 w-4", className)} {...props} /&gt;
        ),
      }}
      {...props}
    /&gt;
  )
}
Calendar.displayName = "Calendar"

export { Calendar }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/card.tsx</h2>
    <pre><code>import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    className={cn(
      "rounded-lg border bg-card text-card-foreground shadow-sm",
      className
    )}
    {...props}
  /&gt;
))
Card.displayName = "Card"

const CardHeader = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  /&gt;
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    className={cn(
      "text-2xl font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  /&gt;
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  /&gt;
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div ref={ref} className={cn("p-6 pt-0", className)} {...props} /&gt;
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  /&gt;
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/chart.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } &amp; (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record&lt;keyof typeof THEMES, string&gt; }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext&lt;ChartContextProps | null&gt;(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a &lt;ChartContainer /&gt;")
  }

  return context
}

const ChartContainer = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt; &amp; {
    config: ChartConfig
    children: React.ComponentProps&lt;
      typeof RechartsPrimitive.ResponsiveContainer
    &gt;["children"]
  }
&gt;(({ id, className, children, config, ...props }, ref) =&gt; {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    &lt;ChartContext.Provider value={{ config }}&gt;
      &lt;div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&amp;_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&amp;_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&amp;_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&amp;_.recharts-dot[stroke='#fff']]:stroke-transparent [&amp;_.recharts-layer]:outline-none [&amp;_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&amp;_.recharts-radial-bar-background-sector]:fill-muted [&amp;_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&amp;_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&amp;_.recharts-sector[stroke='#fff']]:stroke-transparent [&amp;_.recharts-sector]:outline-none [&amp;_.recharts-surface]:outline-none",
          className
        )}
        {...props}
      &gt;
        &lt;ChartStyle id={chartId} config={config} /&gt;
        &lt;RechartsPrimitive.ResponsiveContainer&gt;
          {children}
        &lt;/RechartsPrimitive.ResponsiveContainer&gt;
      &lt;/div&gt;
    &lt;/ChartContext.Provider&gt;
  )
})
ChartContainer.displayName = "Chart"

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) =&gt; {
  const colorConfig = Object.entries(config).filter(
    ([, config]) =&gt; config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    &lt;style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) =&gt; `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) =&gt; {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    /&gt;
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

const ChartTooltipContent = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;typeof RechartsPrimitive.Tooltip&gt; &amp;
    React.ComponentProps&lt;"div"&gt; &amp; {
      hideLabel?: boolean
      hideIndicator?: boolean
      indicator?: "line" | "dot" | "dashed"
      nameKey?: string
      labelKey?: string
    }
&gt;(
  (
    {
      active,
      payload,
      className,
      indicator = "dot",
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref
  ) =&gt; {
    const { config } = useChart()

    const tooltipLabel = React.useMemo(() =&gt; {
      if (hideLabel || !payload?.length) {
        return null
      }

      const [item] = payload
      const key = `${labelKey || item.dataKey || item.name || "value"}`
      const itemConfig = getPayloadConfigFromPayload(config, item, key)
      const value =
        !labelKey &amp;&amp; typeof label === "string"
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label

      if (labelFormatter) {
        return (
          &lt;div className={cn("font-medium", labelClassName)}&gt;
            {labelFormatter(value, payload)}
          &lt;/div&gt;
        )
      }

      if (!value) {
        return null
      }

      return &lt;div className={cn("font-medium", labelClassName)}&gt;{value}&lt;/div&gt;
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ])

    if (!active || !payload?.length) {
      return null
    }

    const nestLabel = payload.length === 1 &amp;&amp; indicator !== "dot"

    return (
      &lt;div
        ref={ref}
        className={cn(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          className
        )}
      &gt;
        {!nestLabel ? tooltipLabel : null}
        &lt;div className="grid gap-1.5"&gt;
          {payload.map((item, index) =&gt; {
            const key = `${nameKey || item.name || item.dataKey || "value"}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)
            const indicatorColor = color || item.payload.fill || item.color

            return (
              &lt;div
                key={item.dataKey}
                className={cn(
                  "flex w-full flex-wrap items-stretch gap-2 [&amp;&gt;svg]:h-2.5 [&amp;&gt;svg]:w-2.5 [&amp;&gt;svg]:text-muted-foreground",
                  indicator === "dot" &amp;&amp; "items-center"
                )}
              &gt;
                {formatter &amp;&amp; item?.value !== undefined &amp;&amp; item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  &lt;&gt;
                    {itemConfig?.icon ? (
                      &lt;itemConfig.icon /&gt;
                    ) : (
                      !hideIndicator &amp;&amp; (
                        &lt;div
                          className={cn(
                            "shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",
                            {
                              "h-2.5 w-2.5": indicator === "dot",
                              "w-1": indicator === "line",
                              "w-0 border-[1.5px] border-dashed bg-transparent":
                                indicator === "dashed",
                              "my-0.5": nestLabel &amp;&amp; indicator === "dashed",
                            }
                          )}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        /&gt;
                      )
                    )}
                    &lt;div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center"
                      )}
                    &gt;
                      &lt;div className="grid gap-1.5"&gt;
                        {nestLabel ? tooltipLabel : null}
                        &lt;span className="text-muted-foreground"&gt;
                          {itemConfig?.label || item.name}
                        &lt;/span&gt;
                      &lt;/div&gt;
                      {item.value &amp;&amp; (
                        &lt;span className="font-mono font-medium tabular-nums text-foreground"&gt;
                          {item.value.toLocaleString()}
                        &lt;/span&gt;
                      )}
                    &lt;/div&gt;
                  &lt;/&gt;
                )}
              &lt;/div&gt;
            )
          })}
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
)
ChartTooltipContent.displayName = "ChartTooltip"

const ChartLegend = RechartsPrimitive.Legend

const ChartLegendContent = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt; &amp;
    Pick&lt;RechartsPrimitive.LegendProps, "payload" | "verticalAlign"&gt; &amp; {
      hideIcon?: boolean
      nameKey?: string
    }
&gt;(
  (
    { className, hideIcon = false, payload, verticalAlign = "bottom", nameKey },
    ref
  ) =&gt; {
    const { config } = useChart()

    if (!payload?.length) {
      return null
    }

    return (
      &lt;div
        ref={ref}
        className={cn(
          "flex items-center justify-center gap-4",
          verticalAlign === "top" ? "pb-3" : "pt-3",
          className
        )}
      &gt;
        {payload.map((item) =&gt; {
          const key = `${nameKey || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)

          return (
            &lt;div
              key={item.value}
              className={cn(
                "flex items-center gap-1.5 [&amp;&gt;svg]:h-3 [&amp;&gt;svg]:w-3 [&amp;&gt;svg]:text-muted-foreground"
              )}
            &gt;
              {itemConfig?.icon &amp;&amp; !hideIcon ? (
                &lt;itemConfig.icon /&gt;
              ) : (
                &lt;div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                /&gt;
              )}
              {itemConfig?.label}
            &lt;/div&gt;
          )
        })}
      &lt;/div&gt;
    )
  }
)
ChartLegendContent.displayName = "ChartLegend"

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &amp;&amp;
    typeof payload.payload === "object" &amp;&amp;
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &amp;&amp;
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &amp;&amp;
    key in payloadPayload &amp;&amp;
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/checkbox.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { Check } from "lucide-react"

import { cn } from "@/lib/utils"

const Checkbox = React.forwardRef&lt;
  React.ElementRef&lt;typeof CheckboxPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof CheckboxPrimitive.Root&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    )}
    {...props}
  &gt;
    &lt;CheckboxPrimitive.Indicator
      className={cn("flex items-center justify-center text-current")}
    &gt;
      &lt;Check className="h-4 w-4" /&gt;
    &lt;/CheckboxPrimitive.Indicator&gt;
  &lt;/CheckboxPrimitive.Root&gt;
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/dialog.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef&lt;
  React.ElementRef&lt;typeof DialogPrimitive.Overlay&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DialogPrimitive.Overlay&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  /&gt;
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof DialogPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DialogPrimitive.Content&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;DialogPortal&gt;
    &lt;DialogOverlay /&gt;
    &lt;DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    &gt;
      {children}
      &lt;DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"&gt;
        &lt;X className="h-4 w-4" /&gt;
        &lt;span className="sr-only"&gt;Close&lt;/span&gt;
      &lt;/DialogPrimitive.Close&gt;
    &lt;/DialogPrimitive.Content&gt;
  &lt;/DialogPortal&gt;
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLDivElement&gt;) =&gt; (
  &lt;div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  /&gt;
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLDivElement&gt;) =&gt; (
  &lt;div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  /&gt;
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef&lt;
  React.ElementRef&lt;typeof DialogPrimitive.Title&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DialogPrimitive.Title&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  /&gt;
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef&lt;
  React.ElementRef&lt;typeof DialogPrimitive.Description&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DialogPrimitive.Description&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  /&gt;
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/dropdown-menu.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.SubTrigger&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.SubTrigger&gt; &amp; {
    inset?: boolean
  }
&gt;(({ className, inset, children, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0",
      inset &amp;&amp; "pl-8",
      className
    )}
    {...props}
  &gt;
    {children}
    &lt;ChevronRight className="ml-auto" /&gt;
  &lt;/DropdownMenuPrimitive.SubTrigger&gt;
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.SubContent&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.SubContent&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  /&gt;
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.Content&gt;
&gt;(({ className, sideOffset = 4, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.Portal&gt;
    &lt;DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    /&gt;
  &lt;/DropdownMenuPrimitive.Portal&gt;
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.Item&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.Item&gt; &amp; {
    inset?: boolean
  }
&gt;(({ className, inset, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0",
      inset &amp;&amp; "pl-8",
      className
    )}
    {...props}
  /&gt;
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.CheckboxItem&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.CheckboxItem&gt;
&gt;(({ className, children, checked, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  &gt;
    &lt;span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"&gt;
      &lt;DropdownMenuPrimitive.ItemIndicator&gt;
        &lt;Check className="h-4 w-4" /&gt;
      &lt;/DropdownMenuPrimitive.ItemIndicator&gt;
    &lt;/span&gt;
    {children}
  &lt;/DropdownMenuPrimitive.CheckboxItem&gt;
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.RadioItem&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.RadioItem&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  &gt;
    &lt;span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"&gt;
      &lt;DropdownMenuPrimitive.ItemIndicator&gt;
        &lt;Circle className="h-2 w-2 fill-current" /&gt;
      &lt;/DropdownMenuPrimitive.ItemIndicator&gt;
    &lt;/span&gt;
    {children}
  &lt;/DropdownMenuPrimitive.RadioItem&gt;
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.Label&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.Label&gt; &amp; {
    inset?: boolean
  }
&gt;(({ className, inset, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset &amp;&amp; "pl-8",
      className
    )}
    {...props}
  /&gt;
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef&lt;
  React.ElementRef&lt;typeof DropdownMenuPrimitive.Separator&gt;,
  React.ComponentPropsWithoutRef&lt;typeof DropdownMenuPrimitive.Separator&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  /&gt;
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLSpanElement&gt;) =&gt; {
  return (
    &lt;span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    /&gt;
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/form.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  FormProvider,
  useFormContext,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue&lt;
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath&lt;TFieldValues&gt; = FieldPath&lt;TFieldValues&gt;
&gt; = {
  name: TName
}

const FormFieldContext = React.createContext&lt;FormFieldContextValue&gt;(
  {} as FormFieldContextValue
)

const FormField = &lt;
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath&lt;TFieldValues&gt; = FieldPath&lt;TFieldValues&gt;
&gt;({
  ...props
}: ControllerProps&lt;TFieldValues, TName&gt;) =&gt; {
  return (
    &lt;FormFieldContext.Provider value={{ name: props.name }}&gt;
      &lt;Controller {...props} /&gt;
    &lt;/FormFieldContext.Provider&gt;
  )
}

const useFormField = () =&gt; {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState, formState } = useFormContext()

  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within &lt;FormField&gt;")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext&lt;FormItemContextValue&gt;(
  {} as FormItemContextValue
)

const FormItem = React.forwardRef&lt;
  HTMLDivElement,
  React.HTMLAttributes&lt;HTMLDivElement&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  const id = React.useId()

  return (
    &lt;FormItemContext.Provider value={{ id }}&gt;
      &lt;div ref={ref} className={cn("space-y-2", className)} {...props} /&gt;
    &lt;/FormItemContext.Provider&gt;
  )
})
FormItem.displayName = "FormItem"

const FormLabel = React.forwardRef&lt;
  React.ElementRef&lt;typeof LabelPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof LabelPrimitive.Root&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  const { error, formItemId } = useFormField()

  return (
    &lt;Label
      ref={ref}
      className={cn(error &amp;&amp; "text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    /&gt;
  )
})
FormLabel.displayName = "FormLabel"

const FormControl = React.forwardRef&lt;
  React.ElementRef&lt;typeof Slot&gt;,
  React.ComponentPropsWithoutRef&lt;typeof Slot&gt;
&gt;(({ ...props }, ref) =&gt; {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    &lt;Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    /&gt;
  )
})
FormControl.displayName = "FormControl"

const FormDescription = React.forwardRef&lt;
  HTMLParagraphElement,
  React.HTMLAttributes&lt;HTMLParagraphElement&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  const { formDescriptionId } = useFormField()

  return (
    &lt;p
      ref={ref}
      id={formDescriptionId}
      className={cn("text-sm text-muted-foreground", className)}
      {...props}
    /&gt;
  )
})
FormDescription.displayName = "FormDescription"

const FormMessage = React.forwardRef&lt;
  HTMLParagraphElement,
  React.HTMLAttributes&lt;HTMLParagraphElement&gt;
&gt;(({ className, children, ...props }, ref) =&gt; {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message ?? "") : children

  if (!body) {
    return null
  }

  return (
    &lt;p
      ref={ref}
      id={formMessageId}
      className={cn("text-sm font-medium text-destructive", className)}
      {...props}
    &gt;
      {body}
    &lt;/p&gt;
  )
})
FormMessage.displayName = "FormMessage"

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/input.tsx</h2>
    <pre><code>import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef&lt;HTMLInputElement, React.ComponentProps&lt;"input"&gt;&gt;(
  ({ className, type, ...props }, ref) =&gt; {
    return (
      &lt;input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      /&gt;
    )
  }
)
Input.displayName = "Input"

export { Input }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/label.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef&lt;
  React.ElementRef&lt;typeof LabelPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof LabelPrimitive.Root&gt; &amp;
    VariantProps&lt;typeof labelVariants&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  /&gt;
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/menubar.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as MenubarPrimitive from "@radix-ui/react-menubar"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

function MenubarMenu({
  ...props
}: React.ComponentProps&lt;typeof MenubarPrimitive.Menu&gt;) {
  return &lt;MenubarPrimitive.Menu {...props} /&gt;
}

function MenubarGroup({
  ...props
}: React.ComponentProps&lt;typeof MenubarPrimitive.Group&gt;) {
  return &lt;MenubarPrimitive.Group {...props} /&gt;
}

function MenubarPortal({
  ...props
}: React.ComponentProps&lt;typeof MenubarPrimitive.Portal&gt;) {
  return &lt;MenubarPrimitive.Portal {...props} /&gt;
}

function MenubarRadioGroup({
  ...props
}: React.ComponentProps&lt;typeof MenubarPrimitive.RadioGroup&gt;) {
  return &lt;MenubarPrimitive.RadioGroup {...props} /&gt;
}

function MenubarSub({
  ...props
}: React.ComponentProps&lt;typeof MenubarPrimitive.Sub&gt;) {
  return &lt;MenubarPrimitive.Sub data-slot="menubar-sub" {...props} /&gt;
}

const Menubar = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.Root&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.Root
    ref={ref}
    className={cn(
      "flex h-10 items-center space-x-1 rounded-md border bg-background p-1",
      className
    )}
    {...props}
  /&gt;
))
Menubar.displayName = MenubarPrimitive.Root.displayName

const MenubarTrigger = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.Trigger&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.Trigger&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      className
    )}
    {...props}
  /&gt;
))
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName

const MenubarSubTrigger = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.SubTrigger&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.SubTrigger&gt; &amp; {
    inset?: boolean
  }
&gt;(({ className, inset, children, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset &amp;&amp; "pl-8",
      className
    )}
    {...props}
  &gt;
    {children}
    &lt;ChevronRight className="ml-auto h-4 w-4" /&gt;
  &lt;/MenubarPrimitive.SubTrigger&gt;
))
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName

const MenubarSubContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.SubContent&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.SubContent&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  /&gt;
))
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName

const MenubarContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.Content&gt;
&gt;(
  (
    { className, align = "start", alignOffset = -4, sideOffset = 8, ...props },
    ref
  ) =&gt; (
    &lt;MenubarPrimitive.Portal&gt;
      &lt;MenubarPrimitive.Content
        ref={ref}
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
          className
        )}
        {...props}
      /&gt;
    &lt;/MenubarPrimitive.Portal&gt;
  )
)
MenubarContent.displayName = MenubarPrimitive.Content.displayName

const MenubarItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.Item&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.Item&gt; &amp; {
    inset?: boolean
  }
&gt;(({ className, inset, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset &amp;&amp; "pl-8",
      className
    )}
    {...props}
  /&gt;
))
MenubarItem.displayName = MenubarPrimitive.Item.displayName

const MenubarCheckboxItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.CheckboxItem&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.CheckboxItem&gt;
&gt;(({ className, children, checked, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  &gt;
    &lt;span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"&gt;
      &lt;MenubarPrimitive.ItemIndicator&gt;
        &lt;Check className="h-4 w-4" /&gt;
      &lt;/MenubarPrimitive.ItemIndicator&gt;
    &lt;/span&gt;
    {children}
  &lt;/MenubarPrimitive.CheckboxItem&gt;
))
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName

const MenubarRadioItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.RadioItem&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.RadioItem&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  &gt;
    &lt;span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"&gt;
      &lt;MenubarPrimitive.ItemIndicator&gt;
        &lt;Circle className="h-2 w-2 fill-current" /&gt;
      &lt;/MenubarPrimitive.ItemIndicator&gt;
    &lt;/span&gt;
    {children}
  &lt;/MenubarPrimitive.RadioItem&gt;
))
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName

const MenubarLabel = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.Label&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.Label&gt; &amp; {
    inset?: boolean
  }
&gt;(({ className, inset, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset &amp;&amp; "pl-8",
      className
    )}
    {...props}
  /&gt;
))
MenubarLabel.displayName = MenubarPrimitive.Label.displayName

const MenubarSeparator = React.forwardRef&lt;
  React.ElementRef&lt;typeof MenubarPrimitive.Separator&gt;,
  React.ComponentPropsWithoutRef&lt;typeof MenubarPrimitive.Separator&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;MenubarPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  /&gt;
))
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName

const MenubarShortcut = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLSpanElement&gt;) =&gt; {
  return (
    &lt;span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    /&gt;
  )
}
MenubarShortcut.displayname = "MenubarShortcut"

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/popover.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

const Popover = PopoverPrimitive.Root

const PopoverTrigger = PopoverPrimitive.Trigger

const PopoverContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof PopoverPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof PopoverPrimitive.Content&gt;
&gt;(({ className, align = "center", sideOffset = 4, ...props }, ref) =&gt; (
  &lt;PopoverPrimitive.Portal&gt;
    &lt;PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    /&gt;
  &lt;/PopoverPrimitive.Portal&gt;
))
PopoverContent.displayName = PopoverPrimitive.Content.displayName

export { Popover, PopoverTrigger, PopoverContent }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/progress.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

const Progress = React.forwardRef&lt;
  React.ElementRef&lt;typeof ProgressPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ProgressPrimitive.Root&gt;
&gt;(({ className, value, ...props }, ref) =&gt; (
  &lt;ProgressPrimitive.Root
    ref={ref}
    className={cn(
      "relative h-4 w-full overflow-hidden rounded-full bg-secondary",
      className
    )}
    {...props}
  &gt;
    &lt;ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    /&gt;
  &lt;/ProgressPrimitive.Root&gt;
))
Progress.displayName = ProgressPrimitive.Root.displayName

export { Progress }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/radio-group.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const RadioGroup = React.forwardRef&lt;
  React.ElementRef&lt;typeof RadioGroupPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof RadioGroupPrimitive.Root&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;RadioGroupPrimitive.Root
      className={cn("grid gap-2", className)}
      {...props}
      ref={ref}
    /&gt;
  )
})
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName

const RadioGroupItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof RadioGroupPrimitive.Item&gt;,
  React.ComponentPropsWithoutRef&lt;typeof RadioGroupPrimitive.Item&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    &gt;
      &lt;RadioGroupPrimitive.Indicator className="flex items-center justify-center"&gt;
        &lt;Circle className="h-2.5 w-2.5 fill-current text-current" /&gt;
      &lt;/RadioGroupPrimitive.Indicator&gt;
    &lt;/RadioGroupPrimitive.Item&gt;
  )
})
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName

export { RadioGroup, RadioGroupItem }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/scroll-area.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

const ScrollArea = React.forwardRef&lt;
  React.ElementRef&lt;typeof ScrollAreaPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ScrollAreaPrimitive.Root&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;ScrollAreaPrimitive.Root
    ref={ref}
    className={cn("relative overflow-hidden", className)}
    {...props}
  &gt;
    &lt;ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]"&gt;
      {children}
    &lt;/ScrollAreaPrimitive.Viewport&gt;
    &lt;ScrollBar /&gt;
    &lt;ScrollAreaPrimitive.Corner /&gt;
  &lt;/ScrollAreaPrimitive.Root&gt;
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef&lt;
  React.ElementRef&lt;typeof ScrollAreaPrimitive.ScrollAreaScrollbar&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ScrollAreaPrimitive.ScrollAreaScrollbar&gt;
&gt;(({ className, orientation = "vertical", ...props }, ref) =&gt; (
  &lt;ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" &amp;&amp;
        "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" &amp;&amp;
        "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className
    )}
    {...props}
  &gt;
    &lt;ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" /&gt;
  &lt;/ScrollAreaPrimitive.ScrollAreaScrollbar&gt;
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/select.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef&lt;
  React.ElementRef&lt;typeof SelectPrimitive.Trigger&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SelectPrimitive.Trigger&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&amp;&gt;span]:line-clamp-1",
      className
    )}
    {...props}
  &gt;
    {children}
    &lt;SelectPrimitive.Icon asChild&gt;
      &lt;ChevronDown className="h-4 w-4 opacity-50" /&gt;
    &lt;/SelectPrimitive.Icon&gt;
  &lt;/SelectPrimitive.Trigger&gt;
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef&lt;
  React.ElementRef&lt;typeof SelectPrimitive.ScrollUpButton&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SelectPrimitive.ScrollUpButton&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  &gt;
    &lt;ChevronUp className="h-4 w-4" /&gt;
  &lt;/SelectPrimitive.ScrollUpButton&gt;
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef&lt;
  React.ElementRef&lt;typeof SelectPrimitive.ScrollDownButton&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SelectPrimitive.ScrollDownButton&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  &gt;
    &lt;ChevronDown className="h-4 w-4" /&gt;
  &lt;/SelectPrimitive.ScrollDownButton&gt;
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof SelectPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SelectPrimitive.Content&gt;
&gt;(({ className, children, position = "popper", ...props }, ref) =&gt; (
  &lt;SelectPrimitive.Portal&gt;
    &lt;SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &amp;&amp;
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    &gt;
      &lt;SelectScrollUpButton /&gt;
      &lt;SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &amp;&amp;
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      &gt;
        {children}
      &lt;/SelectPrimitive.Viewport&gt;
      &lt;SelectScrollDownButton /&gt;
    &lt;/SelectPrimitive.Content&gt;
  &lt;/SelectPrimitive.Portal&gt;
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef&lt;
  React.ElementRef&lt;typeof SelectPrimitive.Label&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SelectPrimitive.Label&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  /&gt;
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef&lt;
  React.ElementRef&lt;typeof SelectPrimitive.Item&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SelectPrimitive.Item&gt;
&gt;(({ className, children, ...props }, ref) =&gt; (
  &lt;SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  &gt;
    &lt;span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"&gt;
      &lt;SelectPrimitive.ItemIndicator&gt;
        &lt;Check className="h-4 w-4" /&gt;
      &lt;/SelectPrimitive.ItemIndicator&gt;
    &lt;/span&gt;

    &lt;SelectPrimitive.ItemText&gt;{children}&lt;/SelectPrimitive.ItemText&gt;
  &lt;/SelectPrimitive.Item&gt;
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef&lt;
  React.ElementRef&lt;typeof SelectPrimitive.Separator&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SelectPrimitive.Separator&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  /&gt;
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/separator.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef&lt;
  React.ElementRef&lt;typeof SeparatorPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SeparatorPrimitive.Root&gt;
&gt;(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) =&gt; (
    &lt;SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    /&gt;
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/sheet.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef&lt;
  React.ElementRef&lt;typeof SheetPrimitive.Overlay&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SheetPrimitive.Overlay&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  /&gt;
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef&lt;typeof SheetPrimitive.Content&gt;,
    VariantProps&lt;typeof sheetVariants&gt; {}

const SheetContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof SheetPrimitive.Content&gt;,
  SheetContentProps
&gt;(({ side = "right", className, children, ...props }, ref) =&gt; (
  &lt;SheetPortal&gt;
    &lt;SheetOverlay /&gt;
    &lt;SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    &gt;
      {children}
      &lt;SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"&gt;
        &lt;X className="h-4 w-4" /&gt;
        &lt;span className="sr-only"&gt;Close&lt;/span&gt;
      &lt;/SheetPrimitive.Close&gt;
    &lt;/SheetPrimitive.Content&gt;
  &lt;/SheetPortal&gt;
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLDivElement&gt;) =&gt; (
  &lt;div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  /&gt;
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLDivElement&gt;) =&gt; (
  &lt;div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  /&gt;
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef&lt;
  React.ElementRef&lt;typeof SheetPrimitive.Title&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SheetPrimitive.Title&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  /&gt;
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef&lt;
  React.ElementRef&lt;typeof SheetPrimitive.Description&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SheetPrimitive.Description&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  /&gt;
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/sidebar.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { VariantProps, cva } from "class-variance-authority"
import { PanelLeft } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import { Sheet, SheetContent } from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContext = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) =&gt; void
  openMobile: boolean
  setOpenMobile: (open: boolean) =&gt; void
  isMobile: boolean
  toggleSidebar: () =&gt; void
}

const SidebarContext = React.createContext&lt;SidebarContext | null&gt;(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

const SidebarProvider = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt; &amp; {
    defaultOpen?: boolean
    open?: boolean
    onOpenChange?: (open: boolean) =&gt; void
  }
&gt;(
  (
    {
      defaultOpen = true,
      open: openProp,
      onOpenChange: setOpenProp,
      className,
      style,
      children,
      ...props
    },
    ref
  ) =&gt; {
    const isMobile = useIsMobile()
    const [openMobile, setOpenMobile] = React.useState(false)

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen)
    const open = openProp ?? _open
    const setOpen = React.useCallback(
      (value: boolean | ((value: boolean) =&gt; boolean)) =&gt; {
        const openState = typeof value === "function" ? value(open) : value
        if (setOpenProp) {
          setOpenProp(openState)
        } else {
          _setOpen(openState)
        }

        // This sets the cookie to keep the sidebar state.
        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
      },
      [setOpenProp, open]
    )

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() =&gt; {
      return isMobile
        ? setOpenMobile((open) =&gt; !open)
        : setOpen((open) =&gt; !open)
    }, [isMobile, setOpen, setOpenMobile])

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() =&gt; {
      const handleKeyDown = (event: KeyboardEvent) =&gt; {
        if (
          event.key === SIDEBAR_KEYBOARD_SHORTCUT &amp;&amp;
          (event.metaKey || event.ctrlKey)
        ) {
          event.preventDefault()
          toggleSidebar()
        }
      }

      window.addEventListener("keydown", handleKeyDown)
      return () =&gt; window.removeEventListener("keydown", handleKeyDown)
    }, [toggleSidebar])

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? "expanded" : "collapsed"

    const contextValue = React.useMemo&lt;SidebarContext&gt;(
      () =&gt; ({
        state,
        open,
        setOpen,
        isMobile,
        openMobile,
        setOpenMobile,
        toggleSidebar,
      }),
      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    )

    return (
      &lt;SidebarContext.Provider value={contextValue}&gt;
        &lt;TooltipProvider delayDuration={0}&gt;
          &lt;div
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH,
                "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
                ...style,
              } as React.CSSProperties
            }
            className={cn(
              "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
              className
            )}
            ref={ref}
            {...props}
          &gt;
            {children}
          &lt;/div&gt;
        &lt;/TooltipProvider&gt;
      &lt;/SidebarContext.Provider&gt;
    )
  }
)
SidebarProvider.displayName = "SidebarProvider"

const Sidebar = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt; &amp; {
    side?: "left" | "right"
    variant?: "sidebar" | "floating" | "inset"
    collapsible?: "offcanvas" | "icon" | "none"
  }
&gt;(
  (
    {
      side = "left",
      variant = "sidebar",
      collapsible = "offcanvas",
      className,
      children,
      ...props
    },
    ref
  ) =&gt; {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

    if (collapsible === "none") {
      return (
        &lt;div
          className={cn(
            "flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",
            className
          )}
          ref={ref}
          {...props}
        &gt;
          {children}
        &lt;/div&gt;
      )
    }

    if (isMobile) {
      return (
        &lt;Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}&gt;
          &lt;SheetContent
            data-sidebar="sidebar"
            data-mobile="true"
            className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&amp;&gt;button]:hidden"
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
              } as React.CSSProperties
            }
            side={side}
          &gt;
            &lt;div className="flex h-full w-full flex-col"&gt;{children}&lt;/div&gt;
          &lt;/SheetContent&gt;
        &lt;/Sheet&gt;
      )
    }

    return (
      &lt;div
        ref={ref}
        className="group peer hidden md:block text-sidebar-foreground"
        data-state={state}
        data-collapsible={state === "collapsed" ? collapsible : ""}
        data-variant={variant}
        data-side={side}
      &gt;
        {/* This is what handles the sidebar gap on desktop */}
        &lt;div
          className={cn(
            "duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear",
            "group-data-[collapsible=offcanvas]:w-0",
            "group-data-[side=right]:rotate-180",
            variant === "floating" || variant === "inset"
              ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]"
          )}
        /&gt;
        &lt;div
          className={cn(
            "duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",
            side === "left"
              ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
              : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
            // Adjust the padding for floating and inset variants.
            variant === "floating" || variant === "inset"
              ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
            className
          )}
          {...props}
        &gt;
          &lt;div
            data-sidebar="sidebar"
            className="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
          &gt;
            {children}
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
)
Sidebar.displayName = "Sidebar"

const SidebarTrigger = React.forwardRef&lt;
  React.ElementRef&lt;typeof Button&gt;,
  React.ComponentProps&lt;typeof Button&gt;
&gt;(({ className, onClick, ...props }, ref) =&gt; {
  const { toggleSidebar } = useSidebar()

  return (
    &lt;Button
      ref={ref}
      data-sidebar="trigger"
      variant="ghost"
      size="icon"
      className={cn("h-7 w-7", className)}
      onClick={(event) =&gt; {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    &gt;
      &lt;PanelLeft /&gt;
      &lt;span className="sr-only"&gt;Toggle Sidebar&lt;/span&gt;
    &lt;/Button&gt;
  )
})
SidebarTrigger.displayName = "SidebarTrigger"

const SidebarRail = React.forwardRef&lt;
  HTMLButtonElement,
  React.ComponentProps&lt;"button"&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  const { toggleSidebar } = useSidebar()

  return (
    &lt;button
      ref={ref}
      data-sidebar="rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex",
        "[[data-side=left]_&amp;]:cursor-w-resize [[data-side=right]_&amp;]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&amp;]:cursor-e-resize [[data-side=right][data-state=collapsed]_&amp;]:cursor-w-resize",
        "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
        "[[data-side=left][data-collapsible=offcanvas]_&amp;]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&amp;]:-left-2",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarRail.displayName = "SidebarRail"

const SidebarInset = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"main"&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;main
      ref={ref}
      className={cn(
        "relative flex min-h-svh flex-1 flex-col bg-background",
        "peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarInset.displayName = "SidebarInset"

const SidebarInput = React.forwardRef&lt;
  React.ElementRef&lt;typeof Input&gt;,
  React.ComponentProps&lt;typeof Input&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;Input
      ref={ref}
      data-sidebar="input"
      className={cn(
        "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarInput.displayName = "SidebarInput"

const SidebarHeader = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;div
      ref={ref}
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    /&gt;
  )
})
SidebarHeader.displayName = "SidebarHeader"

const SidebarFooter = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;div
      ref={ref}
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    /&gt;
  )
})
SidebarFooter.displayName = "SidebarFooter"

const SidebarSeparator = React.forwardRef&lt;
  React.ElementRef&lt;typeof Separator&gt;,
  React.ComponentProps&lt;typeof Separator&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;Separator
      ref={ref}
      data-sidebar="separator"
      className={cn("mx-2 w-auto bg-sidebar-border", className)}
      {...props}
    /&gt;
  )
})
SidebarSeparator.displayName = "SidebarSeparator"

const SidebarContent = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarContent.displayName = "SidebarContent"

const SidebarGroup = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt;
&gt;(({ className, ...props }, ref) =&gt; {
  return (
    &lt;div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    /&gt;
  )
})
SidebarGroup.displayName = "SidebarGroup"

const SidebarGroupLabel = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt; &amp; { asChild?: boolean }
&gt;(({ className, asChild = false, ...props }, ref) =&gt; {
  const Comp = asChild ? Slot : "div"

  return (
    &lt;Comp
      ref={ref}
      data-sidebar="group-label"
      className={cn(
        "duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarGroupLabel.displayName = "SidebarGroupLabel"

const SidebarGroupAction = React.forwardRef&lt;
  HTMLButtonElement,
  React.ComponentProps&lt;"button"&gt; &amp; { asChild?: boolean }
&gt;(({ className, asChild = false, ...props }, ref) =&gt; {
  const Comp = asChild ? Slot : "button"

  return (
    &lt;Comp
      ref={ref}
      data-sidebar="group-action"
      className={cn(
        "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarGroupAction.displayName = "SidebarGroupAction"

const SidebarGroupContent = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    data-sidebar="group-content"
    className={cn("w-full text-sm", className)}
    {...props}
  /&gt;
))
SidebarGroupContent.displayName = "SidebarGroupContent"

const SidebarMenu = React.forwardRef&lt;
  HTMLUListElement,
  React.ComponentProps&lt;"ul"&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;ul
    ref={ref}
    data-sidebar="menu"
    className={cn("flex w-full min-w-0 flex-col gap-1", className)}
    {...props}
  /&gt;
))
SidebarMenu.displayName = "SidebarMenu"

const SidebarMenuItem = React.forwardRef&lt;
  HTMLLIElement,
  React.ComponentProps&lt;"li"&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;li
    ref={ref}
    data-sidebar="menu-item"
    className={cn("group/menu-item relative", className)}
    {...props}
  /&gt;
))
SidebarMenuItem.displayName = "SidebarMenuItem"

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const SidebarMenuButton = React.forwardRef&lt;
  HTMLButtonElement,
  React.ComponentProps&lt;"button"&gt; &amp; {
    asChild?: boolean
    isActive?: boolean
    tooltip?: string | React.ComponentProps&lt;typeof TooltipContent&gt;
  } &amp; VariantProps&lt;typeof sidebarMenuButtonVariants&gt;
&gt;(
  (
    {
      asChild = false,
      isActive = false,
      variant = "default",
      size = "default",
      tooltip,
      className,
      ...props
    },
    ref
  ) =&gt; {
    const Comp = asChild ? Slot : "button"
    const { isMobile, state } = useSidebar()

    const button = (
      &lt;Comp
        ref={ref}
        data-sidebar="menu-button"
        data-size={size}
        data-active={isActive}
        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
        {...props}
      /&gt;
    )

    if (!tooltip) {
      return button
    }

    if (typeof tooltip === "string") {
      tooltip = {
        children: tooltip,
      }
    }

    return (
      &lt;Tooltip&gt;
        &lt;TooltipTrigger asChild&gt;{button}&lt;/TooltipTrigger&gt;
        &lt;TooltipContent
          side="right"
          align="center"
          hidden={state !== "collapsed" || isMobile}
          {...tooltip}
        /&gt;
      &lt;/Tooltip&gt;
    )
  }
)
SidebarMenuButton.displayName = "SidebarMenuButton"

const SidebarMenuAction = React.forwardRef&lt;
  HTMLButtonElement,
  React.ComponentProps&lt;"button"&gt; &amp; {
    asChild?: boolean
    showOnHover?: boolean
  }
&gt;(({ className, asChild = false, showOnHover = false, ...props }, ref) =&gt; {
  const Comp = asChild ? Slot : "button"

  return (
    &lt;Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &amp;&amp;
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarMenuAction.displayName = "SidebarMenuAction"

const SidebarMenuBadge = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div
    ref={ref}
    data-sidebar="menu-badge"
    className={cn(
      "absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none",
      "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
      "peer-data-[size=sm]/menu-button:top-1",
      "peer-data-[size=default]/menu-button:top-1.5",
      "peer-data-[size=lg]/menu-button:top-2.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  /&gt;
))
SidebarMenuBadge.displayName = "SidebarMenuBadge"

const SidebarMenuSkeleton = React.forwardRef&lt;
  HTMLDivElement,
  React.ComponentProps&lt;"div"&gt; &amp; {
    showIcon?: boolean
  }
&gt;(({ className, showIcon = false, ...props }, ref) =&gt; {
  // Random width between 50 to 90%.
  const width = React.useMemo(() =&gt; {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    &lt;div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("rounded-md h-8 flex gap-2 px-2 items-center", className)}
      {...props}
    &gt;
      {showIcon &amp;&amp; (
        &lt;Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        /&gt;
      )}
      &lt;Skeleton
        className="h-4 flex-1 max-w-[--skeleton-width]"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      /&gt;
    &lt;/div&gt;
  )
})
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton"

const SidebarMenuSub = React.forwardRef&lt;
  HTMLUListElement,
  React.ComponentProps&lt;"ul"&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;ul
    ref={ref}
    data-sidebar="menu-sub"
    className={cn(
      "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  /&gt;
))
SidebarMenuSub.displayName = "SidebarMenuSub"

const SidebarMenuSubItem = React.forwardRef&lt;
  HTMLLIElement,
  React.ComponentProps&lt;"li"&gt;
&gt;(({ ...props }, ref) =&gt; &lt;li ref={ref} {...props} /&gt;)
SidebarMenuSubItem.displayName = "SidebarMenuSubItem"

const SidebarMenuSubButton = React.forwardRef&lt;
  HTMLAnchorElement,
  React.ComponentProps&lt;"a"&gt; &amp; {
    asChild?: boolean
    size?: "sm" | "md"
    isActive?: boolean
  }
&gt;(({ asChild = false, size = "md", isActive, className, ...props }, ref) =&gt; {
  const Comp = asChild ? Slot : "a"

  return (
    &lt;Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&amp;&gt;span:last-child]:truncate [&amp;&gt;svg]:size-4 [&amp;&gt;svg]:shrink-0 [&amp;&gt;svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" &amp;&amp; "text-xs",
        size === "md" &amp;&amp; "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    /&gt;
  )
})
SidebarMenuSubButton.displayName = "SidebarMenuSubButton"

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/skeleton.tsx</h2>
    <pre><code>import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes&lt;HTMLDivElement&gt;) {
  return (
    &lt;div
      className={cn("animate-pulse rounded-md bg-muted", className)}
      {...props}
    /&gt;
  )
}

export { Skeleton }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/slider.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

const Slider = React.forwardRef&lt;
  React.ElementRef&lt;typeof SliderPrimitive.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SliderPrimitive.Root&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SliderPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex w-full touch-none select-none items-center",
      className
    )}
    {...props}
  &gt;
    &lt;SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary"&gt;
      &lt;SliderPrimitive.Range className="absolute h-full bg-primary" /&gt;
    &lt;/SliderPrimitive.Track&gt;
    &lt;SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" /&gt;
  &lt;/SliderPrimitive.Root&gt;
))
Slider.displayName = SliderPrimitive.Root.displayName

export { Slider }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/switch.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as SwitchPrimitives from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

const Switch = React.forwardRef&lt;
  React.ElementRef&lt;typeof SwitchPrimitives.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof SwitchPrimitives.Root&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",
      className
    )}
    {...props}
    ref={ref}
  &gt;
    &lt;SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"
      )}
    /&gt;
  &lt;/SwitchPrimitives.Root&gt;
))
Switch.displayName = SwitchPrimitives.Root.displayName

export { Switch }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/table.tsx</h2>
    <pre><code>import * as React from "react"

import { cn } from "@/lib/utils"

const Table = React.forwardRef&lt;
  HTMLTableElement,
  React.HTMLAttributes&lt;HTMLTableElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;div className="relative w-full overflow-auto"&gt;
    &lt;table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    /&gt;
  &lt;/div&gt;
))
Table.displayName = "Table"

const TableHeader = React.forwardRef&lt;
  HTMLTableSectionElement,
  React.HTMLAttributes&lt;HTMLTableSectionElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;thead ref={ref} className={cn("[&amp;_tr]:border-b", className)} {...props} /&gt;
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef&lt;
  HTMLTableSectionElement,
  React.HTMLAttributes&lt;HTMLTableSectionElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;tbody
    ref={ref}
    className={cn("[&amp;_tr:last-child]:border-0", className)}
    {...props}
  /&gt;
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef&lt;
  HTMLTableSectionElement,
  React.HTMLAttributes&lt;HTMLTableSectionElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&amp;&gt;tr]:last:border-b-0",
      className
    )}
    {...props}
  /&gt;
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef&lt;
  HTMLTableRowElement,
  React.HTMLAttributes&lt;HTMLTableRowElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  /&gt;
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef&lt;
  HTMLTableCellElement,
  React.ThHTMLAttributes&lt;HTMLTableCellElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;th
    ref={ref}
    className={cn(
      "h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0",
      className
    )}
    {...props}
  /&gt;
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef&lt;
  HTMLTableCellElement,
  React.TdHTMLAttributes&lt;HTMLTableCellElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;td
    ref={ref}
    className={cn("p-4 align-middle [&amp;:has([role=checkbox])]:pr-0", className)}
    {...props}
  /&gt;
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef&lt;
  HTMLTableCaptionElement,
  React.HTMLAttributes&lt;HTMLTableCaptionElement&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  /&gt;
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/tabs.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef&lt;
  React.ElementRef&lt;typeof TabsPrimitive.List&gt;,
  React.ComponentPropsWithoutRef&lt;typeof TabsPrimitive.List&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  /&gt;
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef&lt;
  React.ElementRef&lt;typeof TabsPrimitive.Trigger&gt;,
  React.ComponentPropsWithoutRef&lt;typeof TabsPrimitive.Trigger&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",
      className
    )}
    {...props}
  /&gt;
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof TabsPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof TabsPrimitive.Content&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  /&gt;
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/textarea.tsx</h2>
    <pre><code>import * as React from 'react';

import {cn} from '@/lib/utils';

const Textarea = React.forwardRef&lt;HTMLTextAreaElement, React.ComponentProps&lt;'textarea'&gt;&gt;(
  ({className, ...props}, ref) =&gt; {
    return (
      &lt;textarea
        className={cn(
          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',
          className
        )}
        ref={ref}
        {...props}
      /&gt;
    );
  }
);
Textarea.displayName = 'Textarea';

export {Textarea};
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/toast.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef&lt;
  React.ElementRef&lt;typeof ToastPrimitives.Viewport&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ToastPrimitives.Viewport&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  /&gt;
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef&lt;
  React.ElementRef&lt;typeof ToastPrimitives.Root&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ToastPrimitives.Root&gt; &amp;
    VariantProps&lt;typeof toastVariants&gt;
&gt;(({ className, variant, ...props }, ref) =&gt; {
  return (
    &lt;ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    /&gt;
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef&lt;
  React.ElementRef&lt;typeof ToastPrimitives.Action&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ToastPrimitives.Action&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  /&gt;
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef&lt;
  React.ElementRef&lt;typeof ToastPrimitives.Close&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ToastPrimitives.Close&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  &gt;
    &lt;X className="h-4 w-4" /&gt;
  &lt;/ToastPrimitives.Close&gt;
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef&lt;
  React.ElementRef&lt;typeof ToastPrimitives.Title&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ToastPrimitives.Title&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold", className)}
    {...props}
  /&gt;
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef&lt;
  React.ElementRef&lt;typeof ToastPrimitives.Description&gt;,
  React.ComponentPropsWithoutRef&lt;typeof ToastPrimitives.Description&gt;
&gt;(({ className, ...props }, ref) =&gt; (
  &lt;ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  /&gt;
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef&lt;typeof Toast&gt;

type ToastActionElement = React.ReactElement&lt;typeof ToastAction&gt;

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/toaster.tsx</h2>
    <pre><code>"use client"

import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    &lt;ToastProvider&gt;
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          &lt;Toast key={id} {...props}&gt;
            &lt;div className="grid gap-1"&gt;
              {title &amp;&amp; &lt;ToastTitle&gt;{title}&lt;/ToastTitle&gt;}
              {description &amp;&amp; (
                &lt;ToastDescription&gt;{description}&lt;/ToastDescription&gt;
              )}
            &lt;/div&gt;
            {action}
            &lt;ToastClose /&gt;
          &lt;/Toast&gt;
        )
      })}
      &lt;ToastViewport /&gt;
    &lt;/ToastProvider&gt;
  )
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/components/ui/tooltip.tsx</h2>
    <pre><code>"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef&lt;
  React.ElementRef&lt;typeof TooltipPrimitive.Content&gt;,
  React.ComponentPropsWithoutRef&lt;typeof TooltipPrimitive.Content&gt;
&gt;(({ className, sideOffset = 4, ...props }, ref) =&gt; (
  &lt;TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  /&gt;
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</code></pre>
</div>

<div class="file-container">
    <h2>src/context/code-context.tsx</h2>
    <pre><code>'use client';

import React, { createContext, useState, useContext, ReactNode, useCallback, useEffect } from 'react';
import { generateCode } from '@/ai/flows/generate-code-from-prompt';
import { refactorCode } from '@/ai/flows/refactor-code'; // Import refactor flow
import JSZip from 'jszip';

// Define the structure for generated files (now simplified for single file)
export interface GeneratedFile {
  fileName: string; // Will typically be 'index.html'
  content: string; // The full HTML content
}

interface CodeContextType {
  prompt: string;
  setPrompt: (prompt: string) =&gt; void;
  generatedCode: string; // Stores the raw generated HTML string
  generatedFiles: GeneratedFile[]; // Will usually contain just one file object
  isLoading: boolean; // For initial generation
  error: string | null; // For initial generation
  previewUrl: string | null;
  handleGenerateCode: () =&gt; Promise&lt;void&gt;;
  downloadCode: () =&gt; Promise&lt;void&gt;;
  updatePreview: () =&gt; void;

  // Refactoring state and functions
  isRefactorModalOpen: boolean;
  setIsRefactorModalOpen: (isOpen: boolean) =&gt; void;
  refactorPrompt: string;
  setRefactorPrompt: (prompt: string) =&gt; void;
  refactoredCode: string | null; // Stores the proposed refactored code
  isRefactoring: boolean; // Loading state for refactoring
  refactorError: string | null; // Error state for refactoring
  handleRefactorCode: () =&gt; Promise&lt;void&gt;;
  applyRefactor: () =&gt; void; // Apply the refactored code
  previousGeneratedCode: string | null; // To store the state before refactoring for undo
  undoRefactor: () =&gt; void; // Function to revert to previous code
}

const CodeContext = createContext&lt;CodeContextType | undefined&gt;(undefined);

export const CodeProvider = ({ children }: { children: ReactNode }) =&gt; {
  const [prompt, setPrompt] = useState&lt;string&gt;('');
  const [generatedCode, setGeneratedCode] = useState&lt;string&gt;(''); // Current active code
  const [previousGeneratedCode, setPreviousGeneratedCode] = useState&lt;string | null&gt;(null); // For undo
  const [generatedFiles, setGeneratedFiles] = useState&lt;GeneratedFile[]&gt;([]);
  const [isLoading, setIsLoading] = useState&lt;boolean&gt;(false); // For initial generation
  const [error, setError] = useState&lt;string | null&gt;(null); // For initial generation
  const [previewUrl, setPreviewUrl] = useState&lt;string | null&gt;(null);

  // Refactoring State
  const [isRefactorModalOpen, setIsRefactorModalOpen] = useState&lt;boolean&gt;(false);
  const [refactorPrompt, setRefactorPrompt] = useState&lt;string&gt;('');
  const [refactoredCode, setRefactoredCode] = useState&lt;string | null&gt;(null); // The result of refactor flow
  const [isRefactoring, setIsRefactoring] = useState&lt;boolean&gt;(false); // Loading state for refactor
  const [refactorError, setRefactorError] = useState&lt;string | null&gt;(null); // Error for refactor

  // --- Effects ---
  useEffect(() =&gt; {
    return () =&gt; {
      if (previewUrl) {
        URL.revokeObjectURL(previewUrl);
      }
    };
  }, [previewUrl]);

  // Update preview whenever generatedCode changes
  useEffect(() =&gt; {
     updatePreviewInternal(parseGeneratedCode(generatedCode));
     // eslint-disable-next-line react-hooks/exhaustive-deps
   }, [generatedCode]); // Update preview when the active code changes


  // --- Utility Functions ---
  const parseGeneratedCode = (code: string): GeneratedFile[] =&gt; {
    if (!code || code.trim() === '') {
      return [];
    }
    return [{ fileName: 'index.html', content: code.trim() }];
  };

  const updatePreviewInternal = useCallback((files: GeneratedFile[]) =&gt; {
    if (previewUrl) {
      URL.revokeObjectURL(previewUrl);
    }

    if (files.length === 0 || !files[0].content) {
      setPreviewUrl(null);
      return;
    }

    const htmlFile = files[0];
    const blob = new Blob([htmlFile.content], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    setPreviewUrl(url);
     // Need to keep track of previewUrl for cleanup
     // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [previewUrl]); // Depend on previewUrl for cleanup


  // --- Core Actions ---
  const handleGenerateCode = async () =&gt; {
    if (!prompt) {
      setError('Please enter a prompt.');
      return;
    }
    setIsLoading(true);
    setError(null);
    setGeneratedCode('');
    setPreviousGeneratedCode(null); // Reset undo state on new generation
    setGeneratedFiles([]);
    if (previewUrl) {
      URL.revokeObjectURL(previewUrl);
    }
    setPreviewUrl(null);

    try {
      const result = await generateCode({ prompt });
      const singleHtmlContent = result.code;
      setGeneratedCode(singleHtmlContent); // Set the initial generated code
      setGeneratedFiles(parseGeneratedCode(singleHtmlContent));
      // Preview updates via useEffect on generatedCode change
    } catch (err) {
      console.error('Error generating code:', err);
      setError(`Failed to generate code. ${err instanceof Error ? err.message : 'Please try again.'}`);
      setGeneratedCode('');
      setPreviousGeneratedCode(null);
      setGeneratedFiles([]);
    } finally {
      setIsLoading(false);
    }
  };

  const handleRefactorCode = async () =&gt; {
    if (!refactorPrompt) {
      setRefactorError('Please enter refactoring instructions.');
      return;
    }
    if (!generatedCode) {
      setRefactorError('No code available to refactor.');
      return;
    }

    setIsRefactoring(true);
    setRefactorError(null);
    setRefactoredCode(null); // Clear previous refactor result

    try {
      const result = await refactorCode({ code: generatedCode, prompt: refactorPrompt });
      setRefactoredCode(result.refactoredCode); // Store the proposed refactored code
    } catch (err) {
      console.error('Error refactoring code:', err);
      setRefactorError(`Failed to refactor code. ${err instanceof Error ? err.message : 'Please try again.'}`);
      setRefactoredCode(null);
    } finally {
      setIsRefactoring(false);
    }
  };

  // Apply the refactored code as the current code
  const applyRefactor = () =&gt; {
    if (refactoredCode !== null) {
      setPreviousGeneratedCode(generatedCode); // Save current code for undo
      setGeneratedCode(refactoredCode); // Apply refactored code
      setGeneratedFiles(parseGeneratedCode(refactoredCode));
      // Preview updates via useEffect
      setRefactoredCode(null); // Clear the proposed code
      setRefactorPrompt(''); // Clear the prompt
      setIsRefactorModalOpen(false); // Close modal after applying
    }
  };

  // Revert to the code before the last refactor
  const undoRefactor = () =&gt; {
    if (previousGeneratedCode !== null) {
      setGeneratedCode(previousGeneratedCode);
      setGeneratedFiles(parseGeneratedCode(previousGeneratedCode));
      // Preview updates via useEffect
      setPreviousGeneratedCode(null); // Clear the undo state after undoing
    }
  };

  // Download function (uses current generatedCode)
  const downloadCode = async () =&gt; {
    if (!generatedCode) {
      setError('No code generated to download.'); // Use main error for consistency? Or a toast?
      return;
    }

    try {
      const blob = new Blob([generatedCode], { type: 'text/html' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'index.html'; // Always download the current code as index.html
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(link.href);
    } catch (err) {
      console.error('Error creating download link:', err);
      setError('Failed to prepare file for download.'); // Use main error?
    }
  };

  // Manual preview update (might be less needed now)
  const updatePreview = useCallback(() =&gt; {
     updatePreviewInternal(generatedFiles);
   }, [generatedFiles, updatePreviewInternal]);

  return (
    &lt;CodeContext.Provider
      value={{
        prompt,
        setPrompt,
        generatedCode,
        generatedFiles,
        isLoading,
        error,
        previewUrl,
        handleGenerateCode,
        downloadCode,
        updatePreview,

        // Refactoring props
        isRefactorModalOpen,
        setIsRefactorModalOpen,
        refactorPrompt,
        setRefactorPrompt,
        refactoredCode,
        isRefactoring,
        refactorError,
        handleRefactorCode,
        applyRefactor,
        previousGeneratedCode,
        undoRefactor,
      }}
    &gt;
      {children}
    &lt;/CodeContext.Provider&gt;
  );
};

export const useCodeContext = (): CodeContextType =&gt; {
  const context = useContext(CodeContext);
  if (context === undefined) {
    throw new Error('useCodeContext must be used within a CodeProvider');
  }
  return context;
};
</code></pre>
</div>

<div class="file-container">
    <h2>src/hooks/use-mobile.tsx</h2>
    <pre><code>"use client";

import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  // Initialize state to false to match server rendering assumption until client check runs
  const [isMobile, setIsMobile] = React.useState&lt;boolean&gt;(false)

  React.useEffect(() =&gt; {
    // Ensure window is defined (runs only on client)
    if (typeof window === 'undefined') {
        // This should ideally not happen in useEffect, but good safety check
      return;
    }

    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () =&gt; {
      setIsMobile(mql.matches); // Use mql.matches directly
    }

    // Initial check on client mount
    onChange(); // Call once to set the correct state based on initial client width

    // Add listener
    mql.addEventListener("change", onChange)

    // Cleanup listener on component unmount
    return () =&gt; mql.removeEventListener("change", onChange)
  }, []) // Empty dependency array ensures this runs once on mount (client-side)

  return isMobile // Return the state
}
</code></pre>
</div>

<div class="file-container">
    <h2>src/hooks/use-toast.ts</h2>
    <pre><code>"use client"

// Inspired by react-hot-toast library
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps &amp; {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial&lt;ToasterToast&gt;
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map&lt;string, ReturnType&lt;typeof setTimeout&gt;&gt;()

const addToRemoveQueue = (toastId: string) =&gt; {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() =&gt; {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State =&gt; {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =&gt;
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) =&gt; {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =&gt;
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) =&gt; t.id !== action.toastId),
      }
  }
}

const listeners: Array&lt;(state: State) =&gt; void&gt; = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) =&gt; {
    listener(memoryState)
  })
}

type Toast = Omit&lt;ToasterToast, "id"&gt;

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =&gt;
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () =&gt; dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) =&gt; {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState&lt;State&gt;(memoryState)

  React.useEffect(() =&gt; {
    listeners.push(setState)
    return () =&gt; {
      const index = listeners.indexOf(setState)
      if (index &gt; -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) =&gt; dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }
</code></pre>
</div>

<div class="file-container">
    <h2>src/lib/utils.ts</h2>
    <pre><code>import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</code></pre>
</div>

<div class="file-container">
    <h2>tailwind.config.ts</h2>
    <pre><code>import type { Config } from "tailwindcss";

export default {
    darkMode: ["class"],
    content: [
    "./src/pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/components/**/*.{js,ts,jsx,tsx,mdx}",
    "./src/app/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
  	extend: {
  		colors: {
  			background: 'hsl(var(--background))',
  			foreground: 'hsl(var(--foreground))',
  			card: {
  				DEFAULT: 'hsl(var(--card))',
  				foreground: 'hsl(var(--card-foreground))'
  			},
  			popover: {
  				DEFAULT: 'hsl(var(--popover))',
  				foreground: 'hsl(var(--popover-foreground))'
  			},
  			primary: {
  				DEFAULT: 'hsl(var(--primary))',
  				foreground: 'hsl(var(--primary-foreground))'
  			},
  			secondary: {
  				DEFAULT: 'hsl(var(--secondary))',
  				foreground: 'hsl(var(--secondary-foreground))'
  			},
  			muted: {
  				DEFAULT: 'hsl(var(--muted))',
  				foreground: 'hsl(var(--muted-foreground))'
  			},
  			accent: {
  				DEFAULT: 'hsl(var(--accent))',
  				foreground: 'hsl(var(--accent-foreground))'
  			},
  			destructive: {
  				DEFAULT: 'hsl(var(--destructive))',
  				foreground: 'hsl(var(--destructive-foreground))'
  			},
  			border: 'hsl(var(--border))',
  			input: 'hsl(var(--input))',
  			ring: 'hsl(var(--ring))',
  			chart: {
  				'1': 'hsl(var(--chart-1))',
  				'2': 'hsl(var(--chart-2))',
  				'3': 'hsl(var(--chart-3))',
  				'4': 'hsl(var(--chart-4))',
  				'5': 'hsl(var(--chart-5))'
  			},
  			sidebar: {
  				DEFAULT: 'hsl(var(--sidebar-background))',
  				foreground: 'hsl(var(--sidebar-foreground))',
  				primary: 'hsl(var(--sidebar-primary))',
  				'primary-foreground': 'hsl(var(--sidebar-primary-foreground))',
  				accent: 'hsl(var(--sidebar-accent))',
  				'accent-foreground': 'hsl(var(--sidebar-accent-foreground))',
  				border: 'hsl(var(--sidebar-border))',
  				ring: 'hsl(var(--sidebar-ring))'
  			}
  		},
  		borderRadius: {
  			lg: 'var(--radius)',
  			md: 'calc(var(--radius) - 2px)',
  			sm: 'calc(var(--radius) - 4px)'
  		},
  		keyframes: {
  			'accordion-down': {
  				from: {
  					height: '0'
  				},
  				to: {
  					height: 'var(--radix-accordion-content-height)'
  				}
  			},
  			'accordion-up': {
  				from: {
  					height: 'var(--radix-accordion-content-height)'
  				},
  				to: {
  					height: '0'
  				}
  			}
  		},
  		animation: {
  			'accordion-down': 'accordion-down 0.2s ease-out',
  			'accordion-up': 'accordion-up 0.2s ease-out'
  		}
  	}
  },
  plugins: [require("tailwindcss-animate")],
} satisfies Config;
</code></pre>
</div>

<div class="file-container">
    <h2>tsconfig.json</h2>
    <pre><code>{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
</code></pre>
</div>

</body>
</html>
